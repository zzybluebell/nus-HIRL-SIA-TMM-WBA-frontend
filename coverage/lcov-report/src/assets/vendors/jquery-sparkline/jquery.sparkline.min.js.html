
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for src/assets/vendors/jquery-sparkline/jquery.sparkline.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../index.html">All files</a> / <a href="index.html">src/assets/vendors/jquery-sparkline</a> jquery.sparkline.min.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1458</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/850</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/155</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/2</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input oninput="onInput()" type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >fu</span>nction(document,Math,undefined){<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >fu</span>nction(factory){<span class="cstat-no" title="statement not covered" >if(typeof define==="function"&amp;&amp;define.amd){<span class="cstat-no" title="statement not covered" >define(["jquery"],factory)}</span>else <span class="cstat-no" title="statement not covered" >if(jQuery&amp;&amp;!jQuery.fn.sparkline){<span class="cstat-no" title="statement not covered" >factory(jQuery)}</span>}</span></span>)(<span class="fstat-no" title="function not covered" >fu</span>nction($){"use strict";var UNSET_OPTION=<span class="cstat-no" title="statement not covered" >{},</span>getDefaults,createClass,SPFormat,clipval,quartile,normalizeValue,normalizeValues,remove,isNumber,all,sum,addCSS,ensureArray,formatNumber,RangeMap,MouseHandler,Tooltip,barHighlightMixin,line,bar,tristate,discrete,bullet,pie,box,defaultStyles,initStyles,VShape,VCanvas_base,VCanvas_canvas,VCanvas_vml,pending,shapeCount=<span class="cstat-no" title="statement not covered" >0;<span class="cstat-no" title="statement not covered" ></span>getDefaults=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false,enableHighlight:true,highlightLighten:1.4,tooltipSkipNull:true,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:false,numberFormatter:false,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:false,disableInteraction:false},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined,tooltipFormat:new SPFormat('&lt;span style="color: {{color}}"&gt;&amp;#9679;&lt;/span&gt; {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:undefined,nullColor:undefined,zeroAxis:true,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false,colorMap:undefined,tooltipFormat:new SPFormat('&lt;span style="color: {{color}}"&gt;&amp;#9679;&lt;/span&gt; {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new SPFormat('&lt;span style="color: {{color}}"&gt;&amp;#9679;&lt;/span&gt; {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false,tooltipFormat:new SPFormat("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:undefined,tooltipFormat:new SPFormat("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new SPFormat('&lt;span style="color: {{color}}"&gt;&amp;#9679;&lt;/span&gt; {{value}} ({{percent.1}}%)')},box:{raw:false,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:"#4a2",chartRangeMax:undefined,chartRangeMin:undefined,tooltipFormat:new SPFormat("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}}</span>;<span class="cstat-no" title="statement not covered" >d</span>efaultStyles=".jqstooltip { "+"position: absolute;"+"left: 0px;"+"top: 0px;"+"visibility: hidden;"+"background: rgb(0, 0, 0) transparent;"+"background-color: rgba(0,0,0,0.6);"+"filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);"+'-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";'+"color: white;"+"font: 10px arial, san serif;"+"text-align: left;"+"white-space: nowrap;"+"padding: 5px;"+"border: 1px solid white;"+"box-sizing: content-box;"+"z-index: 10000;"+"}"+".jqsfield { "+"color: white;"+"font: 10px arial, san serif;"+"text-align: left;"+"}";<span class="cstat-no" title="statement not covered" >c</span>reateClass=<span class="fstat-no" title="function not covered" >fu</span>nction(){var Class,args;<span class="cstat-no" title="statement not covered" >Class=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >this.init.apply(this,arguments)}</span>;<span class="cstat-no" title="statement not covered" >i</span>f(arguments.length&gt;1){<span class="cstat-no" title="statement not covered" >if(arguments[0]){<span class="cstat-no" title="statement not covered" >Class.prototype=$.extend(new arguments[0],arguments[arguments.length-1]);<span class="cstat-no" title="statement not covered" >C</span>lass._super=arguments[0].prototype}</span>else{<span class="cstat-no" title="statement not covered" >Class.prototype=arguments[arguments.length-1]}<span class="cstat-no" title="statement not covered" ></span>i</span>f(arguments.length&gt;2){<span class="cstat-no" title="statement not covered" >args=Array.prototype.slice.call(arguments,1,-1);<span class="cstat-no" title="statement not covered" >a</span>rgs.unshift(Class.prototype);<span class="cstat-no" title="statement not covered" >$</span>.extend.apply($,args)}</span>}</span>else{<span class="cstat-no" title="statement not covered" >Class.prototype=arguments[0]}<span class="cstat-no" title="statement not covered" ></span>C</span>lass.prototype.cls=Class;<span class="cstat-no" title="statement not covered" >r</span>eturn Class}</span>;<span class="cstat-no" title="statement not covered" >$</span>.SPFormatClass=SPFormat=createClass({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:<span class="fstat-no" title="function not covered" >fu</span>nction(format,fclass){<span class="cstat-no" title="statement not covered" >this.format=format;<span class="cstat-no" title="statement not covered" >t</span>his.fclass=fclass}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(fieldset,lookups,options){var self=<span class="cstat-no" title="statement not covered" >this,</span>fields=<span class="cstat-no" title="statement not covered" >fieldset,</span>match,token,lookupkey,fieldvalue,prec;<span class="cstat-no" title="statement not covered" >return this.format.replace(this.fre,<span class="fstat-no" title="function not covered" >fu</span>nction(){var lookup;<span class="cstat-no" title="statement not covered" >token=arguments[1];<span class="cstat-no" title="statement not covered" >l</span>ookupkey=arguments[3];<span class="cstat-no" title="statement not covered" >m</span>atch=self.precre.exec(token);<span class="cstat-no" title="statement not covered" >i</span>f(match){<span class="cstat-no" title="statement not covered" >prec=match[2];<span class="cstat-no" title="statement not covered" >t</span>oken=match[1]}</span>else{<span class="cstat-no" title="statement not covered" >prec=false}<span class="cstat-no" title="statement not covered" ></span>f</span>ieldvalue=fields[token];<span class="cstat-no" title="statement not covered" >i</span>f(fieldvalue===undefined){<span class="cstat-no" title="statement not covered" >return""}<span class="cstat-no" title="statement not covered" ></span>i</span>f(lookupkey&amp;&amp;lookups&amp;&amp;lookups[lookupkey]){<span class="cstat-no" title="statement not covered" >lookup=lookups[lookupkey];<span class="cstat-no" title="statement not covered" >i</span>f(lookup.get){<span class="cstat-no" title="statement not covered" >return lookups[lookupkey].get(fieldvalue)||fieldvalue}</span>else{<span class="cstat-no" title="statement not covered" >return lookups[lookupkey][fieldvalue]||fieldvalue}</span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(isNumber(fieldvalue)){<span class="cstat-no" title="statement not covered" >if(options.get("numberFormatter")){<span class="cstat-no" title="statement not covered" >fieldvalue=options.get("numberFormatter")(fieldvalue)}</span>else{<span class="cstat-no" title="statement not covered" >fieldvalue=formatNumber(fieldvalue,prec,options.get("numberDigitGroupCount"),options.get("numberDigitGroupSep"),options.get("numberDecimalMark"))}</span>}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn fieldvalue}</span>)}</span>});<span class="cstat-no" title="statement not covered" >$</span>.spformat=<span class="fstat-no" title="function not covered" >fu</span>nction(format,fclass){<span class="cstat-no" title="statement not covered" >return new SPFormat(format,fclass)}</span>;<span class="cstat-no" title="statement not covered" >c</span>lipval=<span class="fstat-no" title="function not covered" >fu</span>nction(val,min,max){<span class="cstat-no" title="statement not covered" >if(val&lt;min){<span class="cstat-no" title="statement not covered" >return min}<span class="cstat-no" title="statement not covered" ></span>i</span>f(val&gt;max){<span class="cstat-no" title="statement not covered" >return max}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn val}</span>;<span class="cstat-no" title="statement not covered" >q</span>uartile=<span class="fstat-no" title="function not covered" >fu</span>nction(values,q){var vl;<span class="cstat-no" title="statement not covered" >if(q===2){<span class="cstat-no" title="statement not covered" >vl=Math.floor(values.length/2);<span class="cstat-no" title="statement not covered" >r</span>eturn values.length%2?values[vl]:(values[vl-1]+values[vl])/2}</span>else{<span class="cstat-no" title="statement not covered" >if(values.length%2){<span class="cstat-no" title="statement not covered" >vl=(values.length*q+q)/4;<span class="cstat-no" title="statement not covered" >r</span>eturn vl%1?(values[Math.floor(vl)]+values[Math.floor(vl)-1])/2:values[vl-1]}</span>else{<span class="cstat-no" title="statement not covered" >vl=(values.length*q+2)/4;<span class="cstat-no" title="statement not covered" >r</span>eturn vl%1?(values[Math.floor(vl)]+values[Math.floor(vl)-1])/2:values[vl-1]}</span>}</span>}</span>;<span class="cstat-no" title="statement not covered" >n</span>ormalizeValue=<span class="fstat-no" title="function not covered" >fu</span>nction(val){var nf;<span class="cstat-no" title="statement not covered" >switch(val){case"undefined":<span class="cstat-no" title="statement not covered" >val=undefined;<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase"null":<span class="cstat-no" title="statement not covered" >val=null;<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase"true":<span class="cstat-no" title="statement not covered" >val=true;<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase"false":<span class="cstat-no" title="statement not covered" >val=false;<span class="cstat-no" title="statement not covered" >b</span>reak;d</span>efault:<span class="cstat-no" title="statement not covered" >nf=parseFloat(val);<span class="cstat-no" title="statement not covered" >i</span>f(val==nf){<span class="cstat-no" title="statement not covered" >val=nf}</span>}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn val}</span>;<span class="cstat-no" title="statement not covered" >n</span>ormalizeValues=<span class="fstat-no" title="function not covered" >fu</span>nction(vals){var i,result=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>for(i=vals.length;i--;){<span class="cstat-no" title="statement not covered" >result[i]=normalizeValue(vals[i])}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn result}</span>;<span class="cstat-no" title="statement not covered" >r</span>emove=<span class="fstat-no" title="function not covered" >fu</span>nction(vals,filter){var i,vl,result=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>for(i=0,vl=vals.length;i&lt;vl;i++){<span class="cstat-no" title="statement not covered" >if(vals[i]!==filter){<span class="cstat-no" title="statement not covered" >result.push(vals[i])}</span>}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn result}</span>;<span class="cstat-no" title="statement not covered" >i</span>sNumber=<span class="fstat-no" title="function not covered" >fu</span>nction(num){<span class="cstat-no" title="statement not covered" >return!isNaN(parseFloat(num))&amp;&amp;isFinite(num)}</span>;<span class="cstat-no" title="statement not covered" >f</span>ormatNumber=<span class="fstat-no" title="function not covered" >fu</span>nction(num,prec,groupsize,groupsep,decsep){var p,i;<span class="cstat-no" title="statement not covered" >num=(prec===false?parseFloat(num).toString():num.toFixed(prec)).split("");<span class="cstat-no" title="statement not covered" >p</span>=(p=$.inArray(".",num))&lt;0?num.length:p;<span class="cstat-no" title="statement not covered" >i</span>f(p&lt;num.length){<span class="cstat-no" title="statement not covered" >num[p]=decsep}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=p-groupsize;i&gt;0;i-=groupsize){<span class="cstat-no" title="statement not covered" >num.splice(i,0,groupsep)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn num.join("")}</span>;<span class="cstat-no" title="statement not covered" >a</span>ll=<span class="fstat-no" title="function not covered" >fu</span>nction(val,arr,ignoreNull){var i;<span class="cstat-no" title="statement not covered" >for(i=arr.length;i--;){<span class="cstat-no" title="statement not covered" >if(ignoreNull&amp;&amp;arr[i]===null)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(arr[i]!==val){<span class="cstat-no" title="statement not covered" >return false}</span>}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn true}</span>;<span class="cstat-no" title="statement not covered" >s</span>um=<span class="fstat-no" title="function not covered" >fu</span>nction(vals){var total=<span class="cstat-no" title="statement not covered" >0,</span>i;<span class="cstat-no" title="statement not covered" >for(i=vals.length;i--;){<span class="cstat-no" title="statement not covered" >total+=typeof vals[i]==="number"?vals[i]:0}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn total}</span>;<span class="cstat-no" title="statement not covered" >e</span>nsureArray=<span class="fstat-no" title="function not covered" >fu</span>nction(val){<span class="cstat-no" title="statement not covered" >return $.isArray(val)?val:[val]}</span>;<span class="cstat-no" title="statement not covered" >a</span>ddCSS=<span class="fstat-no" title="function not covered" >fu</span>nction(css){var tag,iefail;<span class="cstat-no" title="statement not covered" >if(document.createStyleSheet){<span class="cstat-no" title="statement not covered" >try{<span class="cstat-no" title="statement not covered" >document.createStyleSheet().cssText=css;<span class="cstat-no" title="statement not covered" >r</span>eturn}</span>catch(e){<span class="cstat-no" title="statement not covered" >iefail=true}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>ag=document.createElement("style");<span class="cstat-no" title="statement not covered" >t</span>ag.type="text/css";<span class="cstat-no" title="statement not covered" >d</span>ocument.getElementsByTagName("head")[0].appendChild(tag);<span class="cstat-no" title="statement not covered" >i</span>f(iefail){<span class="cstat-no" title="statement not covered" >document.styleSheets[document.styleSheets.length-1].cssText=css}</span>else{<span class="cstat-no" title="statement not covered" >tag[typeof document.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=css}</span>}</span>;<span class="cstat-no" title="statement not covered" >$</span>.fn.simpledraw=<span class="fstat-no" title="function not covered" >fu</span>nction(width,height,useExisting,interact){var target,mhandler;<span class="cstat-no" title="statement not covered" >if(useExisting&amp;&amp;(target=this.data("_jqs_vcanvas"))){<span class="cstat-no" title="statement not covered" >return target}<span class="cstat-no" title="statement not covered" ></span>i</span>f($.fn.sparkline.canvas===false){<span class="cstat-no" title="statement not covered" >return false}</span>else <span class="cstat-no" title="statement not covered" >if($.fn.sparkline.canvas===undefined){var el=<span class="cstat-no" title="statement not covered" >document.createElement("canvas");<span class="cstat-no" title="statement not covered" ></span>if(!!(el.getContext&amp;&amp;el.getContext("2d"))){<span class="cstat-no" title="statement not covered" >$.fn.sparkline.canvas=<span class="fstat-no" title="function not covered" >fu</span>nction(width,height,target,interact){<span class="cstat-no" title="statement not covered" >return new VCanvas_canvas(width,height,target,interact)}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(document.namespaces&amp;&amp;!document.namespaces.v){<span class="cstat-no" title="statement not covered" >document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.canvas=<span class="fstat-no" title="function not covered" >fu</span>nction(width,height,target,interact){<span class="cstat-no" title="statement not covered" >return new VCanvas_vml(width,height,target)}</span>}</span>else{<span class="cstat-no" title="statement not covered" >$.fn.sparkline.canvas=false;<span class="cstat-no" title="statement not covered" >r</span>eturn false}</span>}<span class="cstat-no" title="statement not covered" ></span></span>i</span></span>f(width===undefined){<span class="cstat-no" title="statement not covered" >width=$(this).innerWidth()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(height===undefined){<span class="cstat-no" title="statement not covered" >height=$(this).innerHeight()}<span class="cstat-no" title="statement not covered" ></span>t</span>arget=$.fn.sparkline.canvas(width,height,this,interact);<span class="cstat-no" title="statement not covered" >m</span>handler=$(this).data("_jqs_mhandler");<span class="cstat-no" title="statement not covered" >i</span>f(mhandler){<span class="cstat-no" title="statement not covered" >mhandler.registerCanvas(target)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn target}</span>;<span class="cstat-no" title="statement not covered" >$</span>.fn.cleardraw=<span class="fstat-no" title="function not covered" >fu</span>nction(){var target=<span class="cstat-no" title="statement not covered" >this.data("_jqs_vcanvas");<span class="cstat-no" title="statement not covered" ></span>if(target){<span class="cstat-no" title="statement not covered" >target.reset()}</span>}</span>;<span class="cstat-no" title="statement not covered" >$</span>.RangeMapClass=RangeMap=createClass({init:<span class="fstat-no" title="function not covered" >fu</span>nction(map){var key,range,rangelist=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>for(key in map){<span class="cstat-no" title="statement not covered" >if(map.hasOwnProperty(key)&amp;&amp;typeof key==="string"&amp;&amp;key.indexOf(":")&gt;-1){<span class="cstat-no" title="statement not covered" >range=key.split(":");<span class="cstat-no" title="statement not covered" >r</span>ange[0]=range[0].length===0?-Infinity:parseFloat(range[0]);<span class="cstat-no" title="statement not covered" >r</span>ange[1]=range[1].length===0?Infinity:parseFloat(range[1]);<span class="cstat-no" title="statement not covered" >r</span>ange[2]=map[key];<span class="cstat-no" title="statement not covered" >r</span>angelist.push(range)}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>his.map=map;<span class="cstat-no" title="statement not covered" >t</span>his.rangelist=rangelist||false}</span>,get:<span class="fstat-no" title="function not covered" >fu</span>nction(value){var rangelist=<span class="cstat-no" title="statement not covered" >this.rangelist,</span>i,range,result;<span class="cstat-no" title="statement not covered" >if((result=this.map[value])!==undefined){<span class="cstat-no" title="statement not covered" >return result}<span class="cstat-no" title="statement not covered" ></span>i</span>f(rangelist){<span class="cstat-no" title="statement not covered" >for(i=rangelist.length;i--;){<span class="cstat-no" title="statement not covered" >range=rangelist[i];<span class="cstat-no" title="statement not covered" >i</span>f(range[0]&lt;=value&amp;&amp;range[1]&gt;=value){<span class="cstat-no" title="statement not covered" >return range[2]}</span>}</span>}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn undefined}</span>});<span class="cstat-no" title="statement not covered" >$</span>.range_map=<span class="fstat-no" title="function not covered" >fu</span>nction(map){<span class="cstat-no" title="statement not covered" >return new RangeMap(map)}</span>;<span class="cstat-no" title="statement not covered" >M</span>ouseHandler=createClass({init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,options){var $el=<span class="cstat-no" title="statement not covered" >$(el);<span class="cstat-no" title="statement not covered" ></span>this.$el=$el;<span class="cstat-no" title="statement not covered" >t</span>his.options=options;<span class="cstat-no" title="statement not covered" >t</span>his.currentPageX=0;<span class="cstat-no" title="statement not covered" >t</span>his.currentPageY=0;<span class="cstat-no" title="statement not covered" >t</span>his.el=el;<span class="cstat-no" title="statement not covered" >t</span>his.splist=[];<span class="cstat-no" title="statement not covered" >t</span>his.tooltip=null;<span class="cstat-no" title="statement not covered" >t</span>his.over=false;<span class="cstat-no" title="statement not covered" >t</span>his.displayTooltips=!options.get("disableTooltips");<span class="cstat-no" title="statement not covered" >t</span>his.highlightEnabled=!options.get("disableHighlight")}</span>,registerSparkline:<span class="fstat-no" title="function not covered" >fu</span>nction(sp){<span class="cstat-no" title="statement not covered" >this.splist.push(sp);<span class="cstat-no" title="statement not covered" >i</span>f(this.over){<span class="cstat-no" title="statement not covered" >this.updateDisplay()}</span>}</span>,registerCanvas:<span class="fstat-no" title="function not covered" >fu</span>nction(canvas){var $canvas=<span class="cstat-no" title="statement not covered" >$(canvas.canvas);<span class="cstat-no" title="statement not covered" ></span>this.canvas=canvas;<span class="cstat-no" title="statement not covered" >t</span>his.$canvas=$canvas;<span class="cstat-no" title="statement not covered" >$</span>canvas.mouseenter($.proxy(this.mouseenter,this));<span class="cstat-no" title="statement not covered" >$</span>canvas.mouseleave($.proxy(this.mouseleave,this));<span class="cstat-no" title="statement not covered" >$</span>canvas.click($.proxy(this.mouseclick,this))}</span>,reset:<span class="fstat-no" title="function not covered" >fu</span>nction(removeTooltip){<span class="cstat-no" title="statement not covered" >this.splist=[];<span class="cstat-no" title="statement not covered" >i</span>f(this.tooltip&amp;&amp;removeTooltip){<span class="cstat-no" title="statement not covered" >this.tooltip.remove();<span class="cstat-no" title="statement not covered" >t</span>his.tooltip=undefined}</span>}</span>,mouseclick:<span class="fstat-no" title="function not covered" >fu</span>nction(e){var clickEvent=<span class="cstat-no" title="statement not covered" >$.Event("sparklineClick");<span class="cstat-no" title="statement not covered" ></span>clickEvent.originalEvent=e;<span class="cstat-no" title="statement not covered" >c</span>lickEvent.sparklines=this.splist;<span class="cstat-no" title="statement not covered" >t</span>his.$el.trigger(clickEvent)}</span>,mouseenter:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >$(document.body).unbind("mousemove.jqs");<span class="cstat-no" title="statement not covered" >$</span>(document.body).bind("mousemove.jqs",$.proxy(this.mousemove,this));<span class="cstat-no" title="statement not covered" >t</span>his.over=true;<span class="cstat-no" title="statement not covered" >t</span>his.currentPageX=e.pageX;<span class="cstat-no" title="statement not covered" >t</span>his.currentPageY=e.pageY;<span class="cstat-no" title="statement not covered" >t</span>his.currentEl=e.target;<span class="cstat-no" title="statement not covered" >i</span>f(!this.tooltip&amp;&amp;this.displayTooltips){<span class="cstat-no" title="statement not covered" >this.tooltip=new Tooltip(this.options);<span class="cstat-no" title="statement not covered" >t</span>his.tooltip.updatePosition(e.pageX,e.pageY)}<span class="cstat-no" title="statement not covered" ></span>t</span>his.updateDisplay()}</span>,mouseleave:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >$(document.body).unbind("mousemove.jqs");v</span>ar splist=<span class="cstat-no" title="statement not covered" >this.splist,</span>spcount=<span class="cstat-no" title="statement not covered" >splist.length,</span>needsRefresh=<span class="cstat-no" title="statement not covered" >false,</span>sp,i;<span class="cstat-no" title="statement not covered" >this.over=false;<span class="cstat-no" title="statement not covered" >t</span>his.currentEl=null;<span class="cstat-no" title="statement not covered" >i</span>f(this.tooltip){<span class="cstat-no" title="statement not covered" >this.tooltip.remove();<span class="cstat-no" title="statement not covered" >t</span>his.tooltip=null}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=0;i&lt;spcount;i++){<span class="cstat-no" title="statement not covered" >sp=splist[i];<span class="cstat-no" title="statement not covered" >i</span>f(sp.clearRegionHighlight()){<span class="cstat-no" title="statement not covered" >needsRefresh=true}</span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(needsRefresh){<span class="cstat-no" title="statement not covered" >this.canvas.render()}</span>}</span>,mousemove:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >this.currentPageX=e.pageX;<span class="cstat-no" title="statement not covered" >t</span>his.currentPageY=e.pageY;<span class="cstat-no" title="statement not covered" >t</span>his.currentEl=e.target;<span class="cstat-no" title="statement not covered" >i</span>f(this.tooltip){<span class="cstat-no" title="statement not covered" >this.tooltip.updatePosition(e.pageX,e.pageY)}<span class="cstat-no" title="statement not covered" ></span>t</span>his.updateDisplay()}</span>,updateDisplay:<span class="fstat-no" title="function not covered" >fu</span>nction(){var splist=<span class="cstat-no" title="statement not covered" >this.splist,</span>spcount=<span class="cstat-no" title="statement not covered" >splist.length,</span>needsRefresh=<span class="cstat-no" title="statement not covered" >false,</span>offset=<span class="cstat-no" title="statement not covered" >this.$canvas.offset(),</span>localX=<span class="cstat-no" title="statement not covered" >this.currentPageX-offset.left,</span>localY=<span class="cstat-no" title="statement not covered" >this.currentPageY-offset.top,</span>tooltiphtml,sp,i,result,changeEvent;<span class="cstat-no" title="statement not covered" >if(!this.over){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=0;i&lt;spcount;i++){<span class="cstat-no" title="statement not covered" >sp=splist[i];<span class="cstat-no" title="statement not covered" >r</span>esult=sp.setRegionHighlight(this.currentEl,localX,localY);<span class="cstat-no" title="statement not covered" >i</span>f(result){<span class="cstat-no" title="statement not covered" >needsRefresh=true}</span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(needsRefresh){<span class="cstat-no" title="statement not covered" >changeEvent=$.Event("sparklineRegionChange");<span class="cstat-no" title="statement not covered" >c</span>hangeEvent.sparklines=this.splist;<span class="cstat-no" title="statement not covered" >t</span>his.$el.trigger(changeEvent);<span class="cstat-no" title="statement not covered" >i</span>f(this.tooltip){<span class="cstat-no" title="statement not covered" >tooltiphtml="";<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;spcount;i++){<span class="cstat-no" title="statement not covered" >sp=splist[i];<span class="cstat-no" title="statement not covered" >t</span>ooltiphtml+=sp.getCurrentRegionTooltip()}<span class="cstat-no" title="statement not covered" ></span>t</span>his.tooltip.setContent(tooltiphtml)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(!this.disableHighlight){<span class="cstat-no" title="statement not covered" >this.canvas.render()}</span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(result===null){<span class="cstat-no" title="statement not covered" >this.mouseleave()}</span>}</span>});<span class="cstat-no" title="statement not covered" >T</span>ooltip=createClass({sizeStyle:"position: static !important;"+"display: block !important;"+"visibility: hidden !important;"+"float: left !important;",init:<span class="fstat-no" title="function not covered" >fu</span>nction(options){var tooltipClassname=<span class="cstat-no" title="statement not covered" >options.get("tooltipClassname","jqstooltip"),</span>sizetipStyle=<span class="cstat-no" title="statement not covered" >this.sizeStyle,</span>offset;<span class="cstat-no" title="statement not covered" >this.container=options.get("tooltipContainer")||document.body;<span class="cstat-no" title="statement not covered" >t</span>his.tooltipOffsetX=options.get("tooltipOffsetX",10);<span class="cstat-no" title="statement not covered" >t</span>his.tooltipOffsetY=options.get("tooltipOffsetY",12);<span class="cstat-no" title="statement not covered" >$</span>("#jqssizetip").remove();<span class="cstat-no" title="statement not covered" >$</span>("#jqstooltip").remove();<span class="cstat-no" title="statement not covered" >t</span>his.sizetip=$("&lt;div/&gt;",{id:"jqssizetip",style:sizetipStyle,"class":tooltipClassname});<span class="cstat-no" title="statement not covered" >t</span>his.tooltip=$("&lt;div/&gt;",{id:"jqstooltip","class":tooltipClassname}).appendTo(this.container);<span class="cstat-no" title="statement not covered" >o</span>ffset=this.tooltip.offset();<span class="cstat-no" title="statement not covered" >t</span>his.offsetLeft=offset.left;<span class="cstat-no" title="statement not covered" >t</span>his.offsetTop=offset.top;<span class="cstat-no" title="statement not covered" >t</span>his.hidden=true;<span class="cstat-no" title="statement not covered" >$</span>(window).unbind("resize.jqs scroll.jqs");<span class="cstat-no" title="statement not covered" >$</span>(window).bind("resize.jqs scroll.jqs",$.proxy(this.updateWindowDims,this));<span class="cstat-no" title="statement not covered" >t</span>his.updateWindowDims()}</span>,updateWindowDims:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >this.scrollTop=$(window).scrollTop();<span class="cstat-no" title="statement not covered" >t</span>his.scrollLeft=$(window).scrollLeft();<span class="cstat-no" title="statement not covered" >t</span>his.scrollRight=this.scrollLeft+$(window).width();<span class="cstat-no" title="statement not covered" >t</span>his.updatePosition()}</span>,getSize:<span class="fstat-no" title="function not covered" >fu</span>nction(content){<span class="cstat-no" title="statement not covered" >this.sizetip.html(content).appendTo(this.container);<span class="cstat-no" title="statement not covered" >t</span>his.width=this.sizetip.width()+1;<span class="cstat-no" title="statement not covered" >t</span>his.height=this.sizetip.height();<span class="cstat-no" title="statement not covered" >t</span>his.sizetip.remove()}</span>,setContent:<span class="fstat-no" title="function not covered" >fu</span>nction(content){<span class="cstat-no" title="statement not covered" >if(!content){<span class="cstat-no" title="statement not covered" >this.tooltip.css("visibility","hidden");<span class="cstat-no" title="statement not covered" >t</span>his.hidden=true;<span class="cstat-no" title="statement not covered" >r</span>eturn}<span class="cstat-no" title="statement not covered" ></span>t</span>his.getSize(content);<span class="cstat-no" title="statement not covered" >t</span>his.tooltip.html(content).css({width:this.width,height:this.height,visibility:"visible"});<span class="cstat-no" title="statement not covered" >i</span>f(this.hidden){<span class="cstat-no" title="statement not covered" >this.hidden=false;<span class="cstat-no" title="statement not covered" >t</span>his.updatePosition()}</span>}</span>,updatePosition:<span class="fstat-no" title="function not covered" >fu</span>nction(x,y){<span class="cstat-no" title="statement not covered" >if(x===undefined){<span class="cstat-no" title="statement not covered" >if(this.mousex===undefined){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>x</span>=this.mousex-this.offsetLeft;<span class="cstat-no" title="statement not covered" >y</span>=this.mousey-this.offsetTop}</span>else{<span class="cstat-no" title="statement not covered" >this.mousex=x=x-this.offsetLeft;<span class="cstat-no" title="statement not covered" >t</span>his.mousey=y=y-this.offsetTop}<span class="cstat-no" title="statement not covered" ></span>i</span>f(!this.height||!this.width||this.hidden){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>y</span>-=this.height+this.tooltipOffsetY;<span class="cstat-no" title="statement not covered" >x</span>+=this.tooltipOffsetX;<span class="cstat-no" title="statement not covered" >i</span>f(y&lt;this.scrollTop){<span class="cstat-no" title="statement not covered" >y=this.scrollTop}<span class="cstat-no" title="statement not covered" ></span>i</span>f(x&lt;this.scrollLeft){<span class="cstat-no" title="statement not covered" >x=this.scrollLeft}</span>else <span class="cstat-no" title="statement not covered" >if(x+this.width&gt;this.scrollRight){<span class="cstat-no" title="statement not covered" >x=this.scrollRight-this.width}<span class="cstat-no" title="statement not covered" ></span>t</span></span>his.tooltip.css({left:x,top:y})}</span>,remove:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >this.tooltip.remove();<span class="cstat-no" title="statement not covered" >t</span>his.sizetip.remove();<span class="cstat-no" title="statement not covered" >t</span>his.sizetip=this.tooltip=undefined;<span class="cstat-no" title="statement not covered" >$</span>(window).unbind("resize.jqs scroll.jqs")}</span>});<span class="cstat-no" title="statement not covered" >i</span>nitStyles=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >addCSS(defaultStyles)}</span>;<span class="cstat-no" title="statement not covered" >$</span>(initStyles);<span class="cstat-no" title="statement not covered" >p</span>ending=[];<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline=<span class="fstat-no" title="function not covered" >fu</span>nction(userValues,userOptions){<span class="cstat-no" title="statement not covered" >return this.each(<span class="fstat-no" title="function not covered" >fu</span>nction(){var options=<span class="cstat-no" title="statement not covered" >new $.fn.sparkline.options(this,userOptions),</span>$this=<span class="cstat-no" title="statement not covered" >$(this),</span>render,i;<span class="cstat-no" title="statement not covered" >render=<span class="fstat-no" title="function not covered" >fu</span>nction(){var values,width,height,tmp,mhandler,sp,vals;<span class="cstat-no" title="statement not covered" >if(userValues==="html"||userValues===undefined){<span class="cstat-no" title="statement not covered" >vals=this.getAttribute(options.get("tagValuesAttribute"));<span class="cstat-no" title="statement not covered" >i</span>f(vals===undefined||vals===null){<span class="cstat-no" title="statement not covered" >vals=$this.html()}<span class="cstat-no" title="statement not covered" ></span>v</span>alues=vals.replace(/(^\s*&lt;!--)|(--&gt;\s*$)|\s+/g,"").split(",")}</span>else{<span class="cstat-no" title="statement not covered" >values=userValues}<span class="cstat-no" title="statement not covered" ></span>w</span>idth=options.get("width")==="auto"?values.length*options.get("defaultPixelsPerValue"):options.get("width");<span class="cstat-no" title="statement not covered" >i</span>f(options.get("height")==="auto"){<span class="cstat-no" title="statement not covered" >if(!options.get("composite")||!$.data(this,"_jqs_vcanvas")){<span class="cstat-no" title="statement not covered" >tmp=document.createElement("span");<span class="cstat-no" title="statement not covered" >t</span>mp.innerHTML="a";<span class="cstat-no" title="statement not covered" >$</span>this.html(tmp);<span class="cstat-no" title="statement not covered" >h</span>eight=$(tmp).innerHeight()||$(tmp).height();<span class="cstat-no" title="statement not covered" >$</span>(tmp).remove();<span class="cstat-no" title="statement not covered" >t</span>mp=null}</span>}</span>else{<span class="cstat-no" title="statement not covered" >height=options.get("height")}<span class="cstat-no" title="statement not covered" ></span>i</span>f(!options.get("disableInteraction")){<span class="cstat-no" title="statement not covered" >mhandler=$.data(this,"_jqs_mhandler");<span class="cstat-no" title="statement not covered" >i</span>f(!mhandler){<span class="cstat-no" title="statement not covered" >mhandler=new MouseHandler(this,options);<span class="cstat-no" title="statement not covered" >$</span>.data(this,"_jqs_mhandler",mhandler)}</span>else <span class="cstat-no" title="statement not covered" >if(!options.get("composite")){<span class="cstat-no" title="statement not covered" >mhandler.reset()}</span>}</span></span>else{<span class="cstat-no" title="statement not covered" >mhandler=false}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("composite")&amp;&amp;!$.data(this,"_jqs_vcanvas")){<span class="cstat-no" title="statement not covered" >if(!$.data(this,"_jqs_errnotify")){<span class="cstat-no" title="statement not covered" >alert("Attempted to attach a composite sparkline to an element with no existing sparkline");<span class="cstat-no" title="statement not covered" >$</span>.data(this,"_jqs_errnotify",true)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn}<span class="cstat-no" title="statement not covered" ></span>s</span>p=new($.fn.sparkline[options.get("type")])(this,values,options,width,height);<span class="cstat-no" title="statement not covered" >s</span>p.render();<span class="cstat-no" title="statement not covered" >i</span>f(mhandler){<span class="cstat-no" title="statement not covered" >mhandler.registerSparkline(sp)}</span>}</span>;<span class="cstat-no" title="statement not covered" >i</span>f($(this).html()&amp;&amp;!options.get("disableHiddenCheck")&amp;&amp;$(this).is(":hidden")||!$(this).parents("body").length){<span class="cstat-no" title="statement not covered" >if(!options.get("composite")&amp;&amp;$.data(this,"_jqs_pending")){<span class="cstat-no" title="statement not covered" >for(i=pending.length;i;i--){<span class="cstat-no" title="statement not covered" >if(pending[i-1][0]==this){<span class="cstat-no" title="statement not covered" >pending.splice(i-1,1)}</span>}</span>}<span class="cstat-no" title="statement not covered" ></span>p</span>ending.push([this,render]);<span class="cstat-no" title="statement not covered" >$</span>.data(this,"_jqs_pending",true)}</span>else{<span class="cstat-no" title="statement not covered" >render.call(this)}</span>}</span>)}</span>;<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.defaults=getDefaults();<span class="cstat-no" title="statement not covered" >$</span>.sparkline_display_visible=<span class="fstat-no" title="function not covered" >fu</span>nction(){var el,i,pl;var done=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>for(i=0,pl=pending.length;i&lt;pl;i++){<span class="cstat-no" title="statement not covered" >el=pending[i][0];<span class="cstat-no" title="statement not covered" >i</span>f($(el).is(":visible")&amp;&amp;!$(el).parents().is(":hidden")){<span class="cstat-no" title="statement not covered" >pending[i][1].call(el);<span class="cstat-no" title="statement not covered" >$</span>.data(pending[i][0],"_jqs_pending",false);<span class="cstat-no" title="statement not covered" >d</span>one.push(i)}</span>else <span class="cstat-no" title="statement not covered" >if(!$(el).closest("html").length&amp;&amp;!$.data(el,"_jqs_pending")){<span class="cstat-no" title="statement not covered" >$.data(pending[i][0],"_jqs_pending",false);<span class="cstat-no" title="statement not covered" >d</span>one.push(i)}</span>}<span class="cstat-no" title="statement not covered" ></span></span>f</span>or(i=done.length;i;i--){<span class="cstat-no" title="statement not covered" >pending.splice(done[i-1],1)}</span>}</span>;<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.options=createClass({init:<span class="fstat-no" title="function not covered" >fu</span>nction(tag,userOptions){var extendedOptions,defaults,base,tagOptionType;<span class="cstat-no" title="statement not covered" >this.userOptions=userOptions=userOptions||{};<span class="cstat-no" title="statement not covered" >t</span>his.tag=tag;<span class="cstat-no" title="statement not covered" >t</span>his.tagValCache={};<span class="cstat-no" title="statement not covered" >d</span>efaults=$.fn.sparkline.defaults;<span class="cstat-no" title="statement not covered" >b</span>ase=defaults.common;<span class="cstat-no" title="statement not covered" >t</span>his.tagOptionsPrefix=userOptions.enableTagOptions&amp;&amp;(userOptions.tagOptionsPrefix||base.tagOptionsPrefix);<span class="cstat-no" title="statement not covered" >t</span>agOptionType=this.getTagSetting("type");<span class="cstat-no" title="statement not covered" >i</span>f(tagOptionType===UNSET_OPTION){<span class="cstat-no" title="statement not covered" >extendedOptions=defaults[userOptions.type||base.type]}</span>else{<span class="cstat-no" title="statement not covered" >extendedOptions=defaults[tagOptionType]}<span class="cstat-no" title="statement not covered" ></span>t</span>his.mergedOptions=$.extend({},base,extendedOptions,userOptions)}</span>,getTagSetting:<span class="fstat-no" title="function not covered" >fu</span>nction(key){var prefix=<span class="cstat-no" title="statement not covered" >this.tagOptionsPrefix,</span>val,i,pairs,keyval;<span class="cstat-no" title="statement not covered" >if(prefix===false||prefix===undefined){<span class="cstat-no" title="statement not covered" >return UNSET_OPTION}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.tagValCache.hasOwnProperty(key)){<span class="cstat-no" title="statement not covered" >val=this.tagValCache.key}</span>else{<span class="cstat-no" title="statement not covered" >val=this.tag.getAttribute(prefix+key);<span class="cstat-no" title="statement not covered" >i</span>f(val===undefined||val===null){<span class="cstat-no" title="statement not covered" >val=UNSET_OPTION}</span>else <span class="cstat-no" title="statement not covered" >if(val.substr(0,1)==="["){<span class="cstat-no" title="statement not covered" >val=val.substr(1,val.length-2).split(",");<span class="cstat-no" title="statement not covered" >f</span>or(i=val.length;i--;){<span class="cstat-no" title="statement not covered" >val[i]=normalizeValue(val[i].replace(/(^\s*)|(\s*$)/g,""))}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(val.substr(0,1)==="{"){<span class="cstat-no" title="statement not covered" >pairs=val.substr(1,val.length-2).split(",");<span class="cstat-no" title="statement not covered" >v</span>al={};<span class="cstat-no" title="statement not covered" >f</span>or(i=pairs.length;i--;){<span class="cstat-no" title="statement not covered" >keyval=pairs[i].split(":",2);<span class="cstat-no" title="statement not covered" >v</span>al[keyval[0].replace(/(^\s*)|(\s*$)/g,"")]=normalizeValue(keyval[1].replace(/(^\s*)|(\s*$)/g,""))}</span>}</span>else{<span class="cstat-no" title="statement not covered" >val=normalizeValue(val)}<span class="cstat-no" title="statement not covered" ></span>t</span></span></span>his.tagValCache.key=val}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn val}</span>,get:<span class="fstat-no" title="function not covered" >fu</span>nction(key,defaultval){var tagOption=<span class="cstat-no" title="statement not covered" >this.getTagSetting(key),</span>result;<span class="cstat-no" title="statement not covered" >if(tagOption!==UNSET_OPTION){<span class="cstat-no" title="statement not covered" >return tagOption}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn(result=this.mergedOptions[key])===undefined?defaultval:result}</span>});<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline._base=createClass({disabled:false,init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,values,options,width,height){<span class="cstat-no" title="statement not covered" >this.el=el;<span class="cstat-no" title="statement not covered" >t</span>his.$el=$(el);<span class="cstat-no" title="statement not covered" >t</span>his.values=values;<span class="cstat-no" title="statement not covered" >t</span>his.options=options;<span class="cstat-no" title="statement not covered" >t</span>his.width=width;<span class="cstat-no" title="statement not covered" >t</span>his.height=height;<span class="cstat-no" title="statement not covered" >t</span>his.currentRegion=undefined}</span>,initTarget:<span class="fstat-no" title="function not covered" >fu</span>nction(){var interactive=<span class="cstat-no" title="statement not covered" >!this.options.get("disableInteraction");<span class="cstat-no" title="statement not covered" ></span>if(!(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),interactive))){<span class="cstat-no" title="statement not covered" >this.disabled=true}</span>else{<span class="cstat-no" title="statement not covered" >this.canvasWidth=this.target.pixelWidth;<span class="cstat-no" title="statement not covered" >t</span>his.canvasHeight=this.target.pixelHeight}</span>}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >if(this.disabled){<span class="cstat-no" title="statement not covered" >this.el.innerHTML="";<span class="cstat-no" title="statement not covered" >r</span>eturn false}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn true}</span>,getRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(x,y){},setRegionHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion,</span>highlightEnabled=<span class="cstat-no" title="statement not covered" >!this.options.get("disableHighlight"),</span>newRegion;<span class="cstat-no" title="statement not covered" >if(x&gt;this.canvasWidth||y&gt;this.canvasHeight||x&lt;0||y&lt;0){<span class="cstat-no" title="statement not covered" >return null}<span class="cstat-no" title="statement not covered" ></span>n</span>ewRegion=this.getRegion(el,x,y);<span class="cstat-no" title="statement not covered" >i</span>f(currentRegion!==newRegion){<span class="cstat-no" title="statement not covered" >if(currentRegion!==undefined&amp;&amp;highlightEnabled){<span class="cstat-no" title="statement not covered" >this.removeHighlight()}<span class="cstat-no" title="statement not covered" ></span>t</span>his.currentRegion=newRegion;<span class="cstat-no" title="statement not covered" >i</span>f(newRegion!==undefined&amp;&amp;highlightEnabled){<span class="cstat-no" title="statement not covered" >this.renderHighlight()}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn true}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn false}</span>,clearRegionHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >if(this.currentRegion!==undefined){<span class="cstat-no" title="statement not covered" >this.removeHighlight();<span class="cstat-no" title="statement not covered" >t</span>his.currentRegion=undefined;<span class="cstat-no" title="statement not covered" >r</span>eturn true}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn false}</span>,renderHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >this.changeHighlight(true)}</span>,removeHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >this.changeHighlight(false)}</span>,changeHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(highlight){},getCurrentRegionTooltip:<span class="fstat-no" title="function not covered" >fu</span>nction(){var options=<span class="cstat-no" title="statement not covered" >this.options,</span>header=<span class="cstat-no" title="statement not covered" >"",</span>entries=<span class="cstat-no" title="statement not covered" >[],</span>fields,formats,formatlen,fclass,text,i,showFields,showFieldsKey,newFields,fv,formatter,format,fieldlen,j;<span class="cstat-no" title="statement not covered" >if(this.currentRegion===undefined){<span class="cstat-no" title="statement not covered" >return""}<span class="cstat-no" title="statement not covered" ></span>f</span>ields=this.getCurrentRegionFields();<span class="cstat-no" title="statement not covered" >f</span>ormatter=options.get("tooltipFormatter");<span class="cstat-no" title="statement not covered" >i</span>f(formatter){<span class="cstat-no" title="statement not covered" >return formatter(this,options,fields)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("tooltipChartTitle")){<span class="cstat-no" title="statement not covered" >header+='&lt;div class="jqs jqstitle"&gt;'+options.get("tooltipChartTitle")+"&lt;/div&gt;\n"}<span class="cstat-no" title="statement not covered" ></span>f</span>ormats=this.options.get("tooltipFormat");<span class="cstat-no" title="statement not covered" >i</span>f(!formats){<span class="cstat-no" title="statement not covered" >return""}<span class="cstat-no" title="statement not covered" ></span>i</span>f(!$.isArray(formats)){<span class="cstat-no" title="statement not covered" >formats=[formats]}<span class="cstat-no" title="statement not covered" ></span>i</span>f(!$.isArray(fields)){<span class="cstat-no" title="statement not covered" >fields=[fields]}<span class="cstat-no" title="statement not covered" ></span>s</span>howFields=this.options.get("tooltipFormatFieldlist");<span class="cstat-no" title="statement not covered" >s</span>howFieldsKey=this.options.get("tooltipFormatFieldlistKey");<span class="cstat-no" title="statement not covered" >i</span>f(showFields&amp;&amp;showFieldsKey){<span class="cstat-no" title="statement not covered" >newFields=[];<span class="cstat-no" title="statement not covered" >f</span>or(i=fields.length;i--;){<span class="cstat-no" title="statement not covered" >fv=fields[i][showFieldsKey];<span class="cstat-no" title="statement not covered" >i</span>f((j=$.inArray(fv,showFields))!=-1){<span class="cstat-no" title="statement not covered" >newFields[j]=fields[i]}</span>}<span class="cstat-no" title="statement not covered" ></span>f</span>ields=newFields}<span class="cstat-no" title="statement not covered" ></span>f</span>ormatlen=formats.length;<span class="cstat-no" title="statement not covered" >f</span>ieldlen=fields.length;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;formatlen;i++){<span class="cstat-no" title="statement not covered" >format=formats[i];<span class="cstat-no" title="statement not covered" >i</span>f(typeof format==="string"){<span class="cstat-no" title="statement not covered" >format=new SPFormat(format)}<span class="cstat-no" title="statement not covered" ></span>f</span>class=format.fclass||"jqsfield";<span class="cstat-no" title="statement not covered" >f</span>or(j=0;j&lt;fieldlen;j++){<span class="cstat-no" title="statement not covered" >if(!fields[j].isNull||!options.get("tooltipSkipNull")){<span class="cstat-no" title="statement not covered" >$.extend(fields[j],{prefix:options.get("tooltipPrefix"),suffix:options.get("tooltipSuffix")});<span class="cstat-no" title="statement not covered" >t</span>ext=format.render(fields[j],options.get("tooltipValueLookups"),options);<span class="cstat-no" title="statement not covered" >e</span>ntries.push('&lt;div class="'+fclass+'"&gt;'+text+"&lt;/div&gt;")}</span>}</span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(entries.length){<span class="cstat-no" title="statement not covered" >return header+entries.join("\n")}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn""}</span>,getCurrentRegionFields:<span class="fstat-no" title="function not covered" >fu</span>nction(){},calcHighlightColor:<span class="fstat-no" title="function not covered" >fu</span>nction(color,options){var highlightColor=<span class="cstat-no" title="statement not covered" >options.get("highlightColor"),</span>lighten=<span class="cstat-no" title="statement not covered" >options.get("highlightLighten"),</span>parse,mult,rgbnew,i;<span class="cstat-no" title="statement not covered" >if(highlightColor){<span class="cstat-no" title="statement not covered" >return highlightColor}<span class="cstat-no" title="statement not covered" ></span>i</span>f(lighten){<span class="cstat-no" title="statement not covered" >parse=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(color)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(color);<span class="cstat-no" title="statement not covered" >i</span>f(parse){<span class="cstat-no" title="statement not covered" >rgbnew=[];<span class="cstat-no" title="statement not covered" >m</span>ult=color.length===4?16:1;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;3;i++){<span class="cstat-no" title="statement not covered" >rgbnew[i]=clipval(Math.round(parseInt(parse[i+1],16)*mult*lighten),0,255)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn"rgb("+rgbnew.join(",")+")"}</span>}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn color}</span>});<span class="cstat-no" title="statement not covered" >b</span>arHighlightMixin={changeHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(highlight){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion,</span>target=<span class="cstat-no" title="statement not covered" >this.target,</span>shapeids=<span class="cstat-no" title="statement not covered" >this.regionShapes[currentRegion],</span>newShapes;<span class="cstat-no" title="statement not covered" >if(shapeids){<span class="cstat-no" title="statement not covered" >newShapes=this.renderRegion(currentRegion,highlight);<span class="cstat-no" title="statement not covered" >i</span>f($.isArray(newShapes)||$.isArray(shapeids)){<span class="cstat-no" title="statement not covered" >target.replaceWithShapes(shapeids,newShapes);<span class="cstat-no" title="statement not covered" >t</span>his.regionShapes[currentRegion]=$.map(newShapes,<span class="fstat-no" title="function not covered" >fu</span>nction(newShape){<span class="cstat-no" title="statement not covered" >return newShape.id}</span>)}</span>else{<span class="cstat-no" title="statement not covered" >target.replaceWithShape(shapeids,newShapes);<span class="cstat-no" title="statement not covered" >t</span>his.regionShapes[currentRegion]=newShapes.id}</span>}</span>}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){var values=<span class="cstat-no" title="statement not covered" >this.values,</span>target=<span class="cstat-no" title="statement not covered" >this.target,</span>regionShapes=<span class="cstat-no" title="statement not covered" >this.regionShapes,</span>shapes,ids,i,j;<span class="cstat-no" title="statement not covered" >if(!this.cls._super.render.call(this)){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=values.length;i--;){<span class="cstat-no" title="statement not covered" >shapes=this.renderRegion(i);<span class="cstat-no" title="statement not covered" >i</span>f(shapes){<span class="cstat-no" title="statement not covered" >if($.isArray(shapes)){<span class="cstat-no" title="statement not covered" >ids=[];<span class="cstat-no" title="statement not covered" >f</span>or(j=shapes.length;j--;){<span class="cstat-no" title="statement not covered" >shapes[j].append();<span class="cstat-no" title="statement not covered" >i</span>ds.push(shapes[j].id)}<span class="cstat-no" title="statement not covered" ></span>r</span>egionShapes[i]=ids}</span>else{<span class="cstat-no" title="statement not covered" >shapes.append();<span class="cstat-no" title="statement not covered" >r</span>egionShapes[i]=shapes.id}</span>}</span>else{<span class="cstat-no" title="statement not covered" >regionShapes[i]=null}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>arget.render()}</span>};<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.line=line=createClass($.fn.sparkline._base,{type:"line",init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,values,options,width,height){<span class="cstat-no" title="statement not covered" >line._super.init.call(this,el,values,options,width,height);<span class="cstat-no" title="statement not covered" >t</span>his.vertices=[];<span class="cstat-no" title="statement not covered" >t</span>his.regionMap=[];<span class="cstat-no" title="statement not covered" >t</span>his.xvalues=[];<span class="cstat-no" title="statement not covered" >t</span>his.yvalues=[];<span class="cstat-no" title="statement not covered" >t</span>his.yminmax=[];<span class="cstat-no" title="statement not covered" >t</span>his.hightlightSpotId=null;<span class="cstat-no" title="statement not covered" >t</span>his.lastShapeId=null;<span class="cstat-no" title="statement not covered" >t</span>his.initTarget()}</span>,getRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){var i,regionMap=<span class="cstat-no" title="statement not covered" >this.regionMap;<span class="cstat-no" title="statement not covered" ></span>for(i=regionMap.length;i--;){<span class="cstat-no" title="statement not covered" >if(regionMap[i]!==null&amp;&amp;x&gt;=regionMap[i][0]&amp;&amp;x&lt;=regionMap[i][1]){<span class="cstat-no" title="statement not covered" >return regionMap[i][2]}</span>}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn undefined}</span>,getCurrentRegionFields:<span class="fstat-no" title="function not covered" >fu</span>nction(){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion;<span class="cstat-no" title="statement not covered" ></span>return{isNull:this.yvalues[currentRegion]===null,x:this.xvalues[currentRegion],y:this.yvalues[currentRegion],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:currentRegion}}</span>,renderHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion,</span>target=<span class="cstat-no" title="statement not covered" >this.target,</span>vertex=<span class="cstat-no" title="statement not covered" >this.vertices[currentRegion],</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>spotRadius=<span class="cstat-no" title="statement not covered" >options.get("spotRadius"),</span>highlightSpotColor=<span class="cstat-no" title="statement not covered" >options.get("highlightSpotColor"),</span>highlightLineColor=<span class="cstat-no" title="statement not covered" >options.get("highlightLineColor"),</span>highlightSpot,highlightLine;<span class="cstat-no" title="statement not covered" >if(!vertex){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>i</span>f(spotRadius&amp;&amp;highlightSpotColor){<span class="cstat-no" title="statement not covered" >highlightSpot=target.drawCircle(vertex[0],vertex[1],spotRadius,undefined,highlightSpotColor);<span class="cstat-no" title="statement not covered" >t</span>his.highlightSpotId=highlightSpot.id;<span class="cstat-no" title="statement not covered" >t</span>arget.insertAfterShape(this.lastShapeId,highlightSpot)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(highlightLineColor){<span class="cstat-no" title="statement not covered" >highlightLine=target.drawLine(vertex[0],this.canvasTop,vertex[0],this.canvasTop+this.canvasHeight,highlightLineColor);<span class="cstat-no" title="statement not covered" >t</span>his.highlightLineId=highlightLine.id;<span class="cstat-no" title="statement not covered" >t</span>arget.insertAfterShape(this.lastShapeId,highlightLine)}</span>}</span>,removeHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(){var target=<span class="cstat-no" title="statement not covered" >this.target;<span class="cstat-no" title="statement not covered" ></span>if(this.highlightSpotId){<span class="cstat-no" title="statement not covered" >target.removeShapeId(this.highlightSpotId);<span class="cstat-no" title="statement not covered" >t</span>his.highlightSpotId=null}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.highlightLineId){<span class="cstat-no" title="statement not covered" >target.removeShapeId(this.highlightLineId);<span class="cstat-no" title="statement not covered" >t</span>his.highlightLineId=null}</span>}</span>,scanValues:<span class="fstat-no" title="function not covered" >fu</span>nction(){var values=<span class="cstat-no" title="statement not covered" >this.values,</span>valcount=<span class="cstat-no" title="statement not covered" >values.length,</span>xvalues=<span class="cstat-no" title="statement not covered" >this.xvalues,</span>yvalues=<span class="cstat-no" title="statement not covered" >this.yvalues,</span>yminmax=<span class="cstat-no" title="statement not covered" >this.yminmax,</span>i,val,isStr,isArray,sp;<span class="cstat-no" title="statement not covered" >for(i=0;i&lt;valcount;i++){<span class="cstat-no" title="statement not covered" >val=values[i];<span class="cstat-no" title="statement not covered" >i</span>sStr=typeof values[i]==="string";<span class="cstat-no" title="statement not covered" >i</span>sArray=typeof values[i]==="object"&amp;&amp;values[i]instanceof Array;<span class="cstat-no" title="statement not covered" >s</span>p=isStr&amp;&amp;values[i].split(":");<span class="cstat-no" title="statement not covered" >i</span>f(isStr&amp;&amp;sp.length===2){<span class="cstat-no" title="statement not covered" >xvalues.push(Number(sp[0]));<span class="cstat-no" title="statement not covered" >y</span>values.push(Number(sp[1]));<span class="cstat-no" title="statement not covered" >y</span>minmax.push(Number(sp[1]))}</span>else <span class="cstat-no" title="statement not covered" >if(isArray){<span class="cstat-no" title="statement not covered" >xvalues.push(val[0]);<span class="cstat-no" title="statement not covered" >y</span>values.push(val[1]);<span class="cstat-no" title="statement not covered" >y</span>minmax.push(val[1])}</span>else{<span class="cstat-no" title="statement not covered" >xvalues.push(i);<span class="cstat-no" title="statement not covered" >i</span>f(values[i]===null||values[i]==="null"){<span class="cstat-no" title="statement not covered" >yvalues.push(null)}</span>else{<span class="cstat-no" title="statement not covered" >yvalues.push(Number(val));<span class="cstat-no" title="statement not covered" >y</span>minmax.push(Number(val))}</span>}</span>}<span class="cstat-no" title="statement not covered" ></span></span>i</span>f(this.options.get("xvalues")){<span class="cstat-no" title="statement not covered" >xvalues=this.options.get("xvalues")}<span class="cstat-no" title="statement not covered" ></span>t</span>his.maxy=this.maxyorg=Math.max.apply(Math,yminmax);<span class="cstat-no" title="statement not covered" >t</span>his.miny=this.minyorg=Math.min.apply(Math,yminmax);<span class="cstat-no" title="statement not covered" >t</span>his.maxx=Math.max.apply(Math,xvalues);<span class="cstat-no" title="statement not covered" >t</span>his.minx=Math.min.apply(Math,xvalues);<span class="cstat-no" title="statement not covered" >t</span>his.xvalues=xvalues;<span class="cstat-no" title="statement not covered" >t</span>his.yvalues=yvalues;<span class="cstat-no" title="statement not covered" >t</span>his.yminmax=yminmax}</span>,processRangeOptions:<span class="fstat-no" title="function not covered" >fu</span>nction(){var options=<span class="cstat-no" title="statement not covered" >this.options,</span>normalRangeMin=<span class="cstat-no" title="statement not covered" >options.get("normalRangeMin"),</span>normalRangeMax=<span class="cstat-no" title="statement not covered" >options.get("normalRangeMax");<span class="cstat-no" title="statement not covered" ></span>if(normalRangeMin!==undefined){<span class="cstat-no" title="statement not covered" >if(normalRangeMin&lt;this.miny){<span class="cstat-no" title="statement not covered" >this.miny=normalRangeMin}<span class="cstat-no" title="statement not covered" ></span>i</span>f(normalRangeMax&gt;this.maxy){<span class="cstat-no" title="statement not covered" >this.maxy=normalRangeMax}</span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("chartRangeMin")!==undefined&amp;&amp;(options.get("chartRangeClip")||options.get("chartRangeMin")&lt;this.miny)){<span class="cstat-no" title="statement not covered" >this.miny=options.get("chartRangeMin")}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("chartRangeMax")!==undefined&amp;&amp;(options.get("chartRangeClip")||options.get("chartRangeMax")&gt;this.maxy)){<span class="cstat-no" title="statement not covered" >this.maxy=options.get("chartRangeMax")}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("chartRangeMinX")!==undefined&amp;&amp;(options.get("chartRangeClipX")||options.get("chartRangeMinX")&lt;this.minx)){<span class="cstat-no" title="statement not covered" >this.minx=options.get("chartRangeMinX")}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("chartRangeMaxX")!==undefined&amp;&amp;(options.get("chartRangeClipX")||options.get("chartRangeMaxX")&gt;this.maxx)){<span class="cstat-no" title="statement not covered" >this.maxx=options.get("chartRangeMaxX")}</span>}</span>,drawNormalRange:<span class="fstat-no" title="function not covered" >fu</span>nction(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey){var normalRangeMin=<span class="cstat-no" title="statement not covered" >this.options.get("normalRangeMin"),</span>normalRangeMax=<span class="cstat-no" title="statement not covered" >this.options.get("normalRangeMax"),</span>ytop=<span class="cstat-no" title="statement not covered" >canvasTop+Math.round(canvasHeight-canvasHeight*((normalRangeMax-this.miny)/rangey)),</span>height=<span class="cstat-no" title="statement not covered" >Math.round(canvasHeight*(normalRangeMax-normalRangeMin)/rangey);<span class="cstat-no" title="statement not covered" ></span>this.target.drawRect(canvasLeft,ytop,canvasWidth,height,undefined,this.options.get("normalRangeColor")).append()}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){var options=<span class="cstat-no" title="statement not covered" >this.options,</span>target=<span class="cstat-no" title="statement not covered" >this.target,</span>canvasWidth=<span class="cstat-no" title="statement not covered" >this.canvasWidth,</span>canvasHeight=<span class="cstat-no" title="statement not covered" >this.canvasHeight,</span>vertices=<span class="cstat-no" title="statement not covered" >this.vertices,</span>spotRadius=<span class="cstat-no" title="statement not covered" >options.get("spotRadius"),</span>regionMap=<span class="cstat-no" title="statement not covered" >this.regionMap,</span>rangex,rangey,yvallast,canvasTop,canvasLeft,vertex,path,paths,x,y,xnext,xpos,xposnext,last,next,yvalcount,lineShapes,fillShapes,plen,valueSpots,hlSpotsEnabled,color,xvalues,yvalues,i;<span class="cstat-no" title="statement not covered" >if(!line._super.render.call(this)){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>t</span>his.scanValues();<span class="cstat-no" title="statement not covered" >t</span>his.processRangeOptions();<span class="cstat-no" title="statement not covered" >x</span>values=this.xvalues;<span class="cstat-no" title="statement not covered" >y</span>values=this.yvalues;<span class="cstat-no" title="statement not covered" >i</span>f(!this.yminmax.length||this.yvalues.length&lt;2){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>c</span>anvasTop=canvasLeft=0;<span class="cstat-no" title="statement not covered" >r</span>angex=this.maxx-this.minx===0?1:this.maxx-this.minx;<span class="cstat-no" title="statement not covered" >r</span>angey=this.maxy-this.miny===0?1:this.maxy-this.miny;<span class="cstat-no" title="statement not covered" >y</span>vallast=this.yvalues.length-1;<span class="cstat-no" title="statement not covered" >i</span>f(spotRadius&amp;&amp;(canvasWidth&lt;spotRadius*4||canvasHeight&lt;spotRadius*4)){<span class="cstat-no" title="statement not covered" >spotRadius=0}<span class="cstat-no" title="statement not covered" ></span>i</span>f(spotRadius){<span class="cstat-no" title="statement not covered" >hlSpotsEnabled=options.get("highlightSpotColor")&amp;&amp;!options.get("disableInteraction");<span class="cstat-no" title="statement not covered" >i</span>f(hlSpotsEnabled||options.get("minSpotColor")||options.get("spotColor")&amp;&amp;yvalues[yvallast]===this.miny){<span class="cstat-no" title="statement not covered" >canvasHeight-=Math.ceil(spotRadius)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(hlSpotsEnabled||options.get("maxSpotColor")||options.get("spotColor")&amp;&amp;yvalues[yvallast]===this.maxy){<span class="cstat-no" title="statement not covered" >canvasHeight-=Math.ceil(spotRadius);<span class="cstat-no" title="statement not covered" >c</span>anvasTop+=Math.ceil(spotRadius)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(hlSpotsEnabled||(options.get("minSpotColor")||options.get("maxSpotColor"))&amp;&amp;(yvalues[0]===this.miny||yvalues[0]===this.maxy)){<span class="cstat-no" title="statement not covered" >canvasLeft+=Math.ceil(spotRadius);<span class="cstat-no" title="statement not covered" >c</span>anvasWidth-=Math.ceil(spotRadius)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(hlSpotsEnabled||options.get("spotColor")||(options.get("minSpotColor")||options.get("maxSpotColor")&amp;&amp;(yvalues[yvallast]===this.miny||yvalues[yvallast]===this.maxy))){<span class="cstat-no" title="statement not covered" >canvasWidth-=Math.ceil(spotRadius)}</span>}<span class="cstat-no" title="statement not covered" ></span>c</span>anvasHeight--;<span class="cstat-no" title="statement not covered" >i</span>f(options.get("normalRangeMin")!==undefined&amp;&amp;!options.get("drawNormalOnTop")){<span class="cstat-no" title="statement not covered" >this.drawNormalRange(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey)}<span class="cstat-no" title="statement not covered" ></span>p</span>ath=[];<span class="cstat-no" title="statement not covered" >p</span>aths=[path];<span class="cstat-no" title="statement not covered" >l</span>ast=next=null;<span class="cstat-no" title="statement not covered" >y</span>valcount=yvalues.length;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;yvalcount;i++){<span class="cstat-no" title="statement not covered" >x=xvalues[i];<span class="cstat-no" title="statement not covered" >x</span>next=xvalues[i+1];<span class="cstat-no" title="statement not covered" >y</span>=yvalues[i];<span class="cstat-no" title="statement not covered" >x</span>pos=canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex));<span class="cstat-no" title="statement not covered" >x</span>posnext=i&lt;yvalcount-1?canvasLeft+Math.round((xnext-this.minx)*(canvasWidth/rangex)):canvasWidth;<span class="cstat-no" title="statement not covered" >n</span>ext=xpos+(xposnext-xpos)/2;<span class="cstat-no" title="statement not covered" >r</span>egionMap[i]=[last||0,next,i];<span class="cstat-no" title="statement not covered" >l</span>ast=next;<span class="cstat-no" title="statement not covered" >i</span>f(y===null){<span class="cstat-no" title="statement not covered" >if(i){<span class="cstat-no" title="statement not covered" >if(yvalues[i-1]!==null){<span class="cstat-no" title="statement not covered" >path=[];<span class="cstat-no" title="statement not covered" >p</span>aths.push(path)}<span class="cstat-no" title="statement not covered" ></span>v</span>ertices.push(null)}</span>}</span>else{<span class="cstat-no" title="statement not covered" >if(y&lt;this.miny){<span class="cstat-no" title="statement not covered" >y=this.miny}<span class="cstat-no" title="statement not covered" ></span>i</span>f(y&gt;this.maxy){<span class="cstat-no" title="statement not covered" >y=this.maxy}<span class="cstat-no" title="statement not covered" ></span>i</span>f(!path.length){<span class="cstat-no" title="statement not covered" >path.push([xpos,canvasTop+canvasHeight])}<span class="cstat-no" title="statement not covered" ></span>v</span>ertex=[xpos,canvasTop+Math.round(canvasHeight-canvasHeight*((y-this.miny)/rangey))];<span class="cstat-no" title="statement not covered" >p</span>ath.push(vertex);<span class="cstat-no" title="statement not covered" >v</span>ertices.push(vertex)}</span>}<span class="cstat-no" title="statement not covered" ></span>l</span>ineShapes=[];<span class="cstat-no" title="statement not covered" >f</span>illShapes=[];<span class="cstat-no" title="statement not covered" >p</span>len=paths.length;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;plen;i++){<span class="cstat-no" title="statement not covered" >path=paths[i];<span class="cstat-no" title="statement not covered" >i</span>f(path.length){<span class="cstat-no" title="statement not covered" >if(options.get("fillColor")){<span class="cstat-no" title="statement not covered" >path.push([path[path.length-1][0],canvasTop+canvasHeight]);<span class="cstat-no" title="statement not covered" >f</span>illShapes.push(path.slice(0));<span class="cstat-no" title="statement not covered" >p</span>ath.pop()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(path.length&gt;2){<span class="cstat-no" title="statement not covered" >path[0]=[path[0][0],path[1][1]]}<span class="cstat-no" title="statement not covered" ></span>l</span>ineShapes.push(path)}</span>}<span class="cstat-no" title="statement not covered" ></span>p</span>len=fillShapes.length;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;plen;i++){<span class="cstat-no" title="statement not covered" >target.drawShape(fillShapes[i],options.get("fillColor"),options.get("fillColor")).append()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("normalRangeMin")!==undefined&amp;&amp;options.get("drawNormalOnTop")){<span class="cstat-no" title="statement not covered" >this.drawNormalRange(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey)}<span class="cstat-no" title="statement not covered" ></span>p</span>len=lineShapes.length;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;plen;i++){<span class="cstat-no" title="statement not covered" >target.drawShape(lineShapes[i],options.get("lineColor"),undefined,options.get("lineWidth")).append()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(spotRadius&amp;&amp;options.get("valueSpots")){<span class="cstat-no" title="statement not covered" >valueSpots=options.get("valueSpots");<span class="cstat-no" title="statement not covered" >i</span>f(valueSpots.get===undefined){<span class="cstat-no" title="statement not covered" >valueSpots=new RangeMap(valueSpots)}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=0;i&lt;yvalcount;i++){<span class="cstat-no" title="statement not covered" >color=valueSpots.get(yvalues[i]);<span class="cstat-no" title="statement not covered" >i</span>f(color){<span class="cstat-no" title="statement not covered" >target.drawCircle(canvasLeft+Math.round((xvalues[i]-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-canvasHeight*((yvalues[i]-this.miny)/rangey)),spotRadius,undefined,color).append()}</span>}</span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(spotRadius&amp;&amp;options.get("spotColor")&amp;&amp;yvalues[yvallast]!==null){<span class="cstat-no" title="statement not covered" >target.drawCircle(canvasLeft+Math.round((xvalues[xvalues.length-1]-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-canvasHeight*((yvalues[yvallast]-this.miny)/rangey)),spotRadius,undefined,options.get("spotColor")).append()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.maxy!==this.minyorg){<span class="cstat-no" title="statement not covered" >if(spotRadius&amp;&amp;options.get("minSpotColor")){<span class="cstat-no" title="statement not covered" >x=xvalues[$.inArray(this.minyorg,yvalues)];<span class="cstat-no" title="statement not covered" >t</span>arget.drawCircle(canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-canvasHeight*((this.minyorg-this.miny)/rangey)),spotRadius,undefined,options.get("minSpotColor")).append()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(spotRadius&amp;&amp;options.get("maxSpotColor")){<span class="cstat-no" title="statement not covered" >x=xvalues[$.inArray(this.maxyorg,yvalues)];<span class="cstat-no" title="statement not covered" >t</span>arget.drawCircle(canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-canvasHeight*((this.maxyorg-this.miny)/rangey)),spotRadius,undefined,options.get("maxSpotColor")).append()}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>his.lastShapeId=target.getLastShapeId();<span class="cstat-no" title="statement not covered" >t</span>his.canvasTop=canvasTop;<span class="cstat-no" title="statement not covered" >t</span>arget.render()}</span>});<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.bar=bar=createClass($.fn.sparkline._base,barHighlightMixin,{type:"bar",init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,values,options,width,height){var barWidth=<span class="cstat-no" title="statement not covered" >parseInt(options.get("barWidth"),10),</span>barSpacing=<span class="cstat-no" title="statement not covered" >parseInt(options.get("barSpacing"),10),</span>chartRangeMin=<span class="cstat-no" title="statement not covered" >options.get("chartRangeMin"),</span>chartRangeMax=<span class="cstat-no" title="statement not covered" >options.get("chartRangeMax"),</span>chartRangeClip=<span class="cstat-no" title="statement not covered" >options.get("chartRangeClip"),</span>stackMin=<span class="cstat-no" title="statement not covered" >Infinity,</span>stackMax=<span class="cstat-no" title="statement not covered" >-Infinity,</span>isStackString,groupMin,groupMax,stackRanges,numValues,i,vlen,range,zeroAxis,xaxisOffset,min,max,clipMin,clipMax,stacked,vlist,j,slen,svals,val,yoffset,yMaxCalc,canvasHeightEf;<span class="cstat-no" title="statement not covered" >bar._super.init.call(this,el,values,options,width,height);<span class="cstat-no" title="statement not covered" >f</span>or(i=0,vlen=values.length;i&lt;vlen;i++){<span class="cstat-no" title="statement not covered" >val=values[i];<span class="cstat-no" title="statement not covered" >i</span>sStackString=typeof val==="string"&amp;&amp;val.indexOf(":")&gt;-1;<span class="cstat-no" title="statement not covered" >i</span>f(isStackString||$.isArray(val)){<span class="cstat-no" title="statement not covered" >stacked=true;<span class="cstat-no" title="statement not covered" >i</span>f(isStackString){<span class="cstat-no" title="statement not covered" >val=values[i]=normalizeValues(val.split(":"));</span></span></span></span></span></span></span>
}<span class="cstat-no" title="statement not covered" >val=remove(val,null);<span class="cstat-no" title="statement not covered" >g</span>roupMin=Math.min.apply(Math,val);<span class="cstat-no" title="statement not covered" >g</span>roupMax=Math.max.apply(Math,val);<span class="cstat-no" title="statement not covered" >i</span>f(groupMin&lt;stackMin){<span class="cstat-no" title="statement not covered" >stackMin=groupMin}<span class="cstat-no" title="statement not covered" ></span>i</span>f(groupMax&gt;stackMax){<span class="cstat-no" title="statement not covered" >stackMax=groupMax}</span>}</span>}<span class="cstat-no" title="statement not covered" >this.stacked=stacked;<span class="cstat-no" title="statement not covered" >t</span>his.regionShapes={};<span class="cstat-no" title="statement not covered" >t</span>his.barWidth=barWidth;<span class="cstat-no" title="statement not covered" >t</span>his.barSpacing=barSpacing;<span class="cstat-no" title="statement not covered" >t</span>his.totalBarWidth=barWidth+barSpacing;<span class="cstat-no" title="statement not covered" >t</span>his.width=width=values.length*barWidth+(values.length-1)*barSpacing;<span class="cstat-no" title="statement not covered" >t</span>his.initTarget();<span class="cstat-no" title="statement not covered" >i</span>f(chartRangeClip){<span class="cstat-no" title="statement not covered" >clipMin=chartRangeMin===undefined?-Infinity:chartRangeMin;<span class="cstat-no" title="statement not covered" >c</span>lipMax=chartRangeMax===undefined?Infinity:chartRangeMax}<span class="cstat-no" title="statement not covered" ></span>n</span>umValues=[];<span class="cstat-no" title="statement not covered" >s</span>tackRanges=stacked?[]:numValues;v</span>ar stackTotals=<span class="cstat-no" title="statement not covered" >[];</span>var stackRangesNeg=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>for(i=0,vlen=values.length;i&lt;vlen;i++){<span class="cstat-no" title="statement not covered" >if(stacked){<span class="cstat-no" title="statement not covered" >vlist=values[i];<span class="cstat-no" title="statement not covered" >v</span>alues[i]=svals=[];<span class="cstat-no" title="statement not covered" >s</span>tackTotals[i]=0;<span class="cstat-no" title="statement not covered" >s</span>tackRanges[i]=stackRangesNeg[i]=0;<span class="cstat-no" title="statement not covered" >f</span>or(j=0,slen=vlist.length;j&lt;slen;j++){<span class="cstat-no" title="statement not covered" >val=svals[j]=chartRangeClip?clipval(vlist[j],clipMin,clipMax):vlist[j];<span class="cstat-no" title="statement not covered" >i</span>f(val!==null){<span class="cstat-no" title="statement not covered" >if(val&gt;0){<span class="cstat-no" title="statement not covered" >stackTotals[i]+=val}<span class="cstat-no" title="statement not covered" ></span>i</span>f(stackMin&lt;0&amp;&amp;stackMax&gt;0){<span class="cstat-no" title="statement not covered" >if(val&lt;0){<span class="cstat-no" title="statement not covered" >stackRangesNeg[i]+=Math.abs(val)}</span>else{<span class="cstat-no" title="statement not covered" >stackRanges[i]+=val}</span>}</span>else{<span class="cstat-no" title="statement not covered" >stackRanges[i]+=Math.abs(val-(val&lt;0?stackMax:stackMin))}<span class="cstat-no" title="statement not covered" ></span>n</span>umValues.push(val)}</span>}</span>}</span>else{<span class="cstat-no" title="statement not covered" >val=chartRangeClip?clipval(values[i],clipMin,clipMax):values[i];<span class="cstat-no" title="statement not covered" >v</span>al=values[i]=normalizeValue(val);<span class="cstat-no" title="statement not covered" >i</span>f(val!==null){<span class="cstat-no" title="statement not covered" >numValues.push(val)}</span>}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>his.max=max=Math.max.apply(Math,numValues);<span class="cstat-no" title="statement not covered" >t</span>his.min=min=Math.min.apply(Math,numValues);<span class="cstat-no" title="statement not covered" >t</span>his.stackMax=stackMax=stacked?Math.max.apply(Math,stackTotals):max;<span class="cstat-no" title="statement not covered" >t</span>his.stackMin=stackMin=stacked?Math.min.apply(Math,numValues):min;<span class="cstat-no" title="statement not covered" >i</span>f(options.get("chartRangeMin")!==undefined&amp;&amp;(options.get("chartRangeClip")||options.get("chartRangeMin")&lt;min)){<span class="cstat-no" title="statement not covered" >min=options.get("chartRangeMin")}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("chartRangeMax")!==undefined&amp;&amp;(options.get("chartRangeClip")||options.get("chartRangeMax")&gt;max)){<span class="cstat-no" title="statement not covered" >max=options.get("chartRangeMax")}<span class="cstat-no" title="statement not covered" ></span>t</span>his.zeroAxis=zeroAxis=options.get("zeroAxis",true);<span class="cstat-no" title="statement not covered" >i</span>f(min&lt;=0&amp;&amp;max&gt;=0&amp;&amp;zeroAxis){<span class="cstat-no" title="statement not covered" >xaxisOffset=0}</span>else <span class="cstat-no" title="statement not covered" >if(zeroAxis==false){<span class="cstat-no" title="statement not covered" >xaxisOffset=min}</span>else <span class="cstat-no" title="statement not covered" >if(min&gt;0){<span class="cstat-no" title="statement not covered" >xaxisOffset=min}</span>else{<span class="cstat-no" title="statement not covered" >xaxisOffset=max}<span class="cstat-no" title="statement not covered" ></span>t</span></span></span>his.xaxisOffset=xaxisOffset;<span class="cstat-no" title="statement not covered" >r</span>ange=stacked?Math.max.apply(Math,stackRanges)+Math.max.apply(Math,stackRangesNeg):max-min;<span class="cstat-no" title="statement not covered" >t</span>his.canvasHeightEf=zeroAxis&amp;&amp;min&lt;0?this.canvasHeight-2:this.canvasHeight-1;<span class="cstat-no" title="statement not covered" >i</span>f(min&lt;xaxisOffset){<span class="cstat-no" title="statement not covered" >yMaxCalc=stacked&amp;&amp;max&gt;=0?stackMax:max;<span class="cstat-no" title="statement not covered" >y</span>offset=(yMaxCalc-xaxisOffset)/range*this.canvasHeight;<span class="cstat-no" title="statement not covered" >i</span>f(yoffset!==Math.ceil(yoffset)){<span class="cstat-no" title="statement not covered" >this.canvasHeightEf-=2;<span class="cstat-no" title="statement not covered" >y</span>offset=Math.ceil(yoffset)}</span>}</span>else{<span class="cstat-no" title="statement not covered" >yoffset=this.canvasHeight}<span class="cstat-no" title="statement not covered" ></span>t</span>his.yoffset=yoffset;<span class="cstat-no" title="statement not covered" >i</span>f($.isArray(options.get("colorMap"))){<span class="cstat-no" title="statement not covered" >this.colorMapByIndex=options.get("colorMap");<span class="cstat-no" title="statement not covered" >t</span>his.colorMapByValue=null}</span>else{<span class="cstat-no" title="statement not covered" >this.colorMapByIndex=null;<span class="cstat-no" title="statement not covered" >t</span>his.colorMapByValue=options.get("colorMap");<span class="cstat-no" title="statement not covered" >i</span>f(this.colorMapByValue&amp;&amp;this.colorMapByValue.get===undefined){<span class="cstat-no" title="statement not covered" >this.colorMapByValue=new RangeMap(this.colorMapByValue)}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>his.range=range}</span>,getRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){var result=<span class="cstat-no" title="statement not covered" >Math.floor(x/this.totalBarWidth);<span class="cstat-no" title="statement not covered" ></span>return result&lt;0||result&gt;=this.values.length?undefined:result}</span>,getCurrentRegionFields:<span class="fstat-no" title="function not covered" >fu</span>nction(){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion,</span>values=<span class="cstat-no" title="statement not covered" >ensureArray(this.values[currentRegion]),</span>result=<span class="cstat-no" title="statement not covered" >[],</span>value,i;<span class="cstat-no" title="statement not covered" >for(i=values.length;i--;){<span class="cstat-no" title="statement not covered" >value=values[i];<span class="cstat-no" title="statement not covered" >r</span>esult.push({isNull:value===null,value:value,color:this.calcColor(i,value,currentRegion),offset:currentRegion})}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn result}</span>,calcColor:<span class="fstat-no" title="function not covered" >fu</span>nction(stacknum,value,valuenum){var colorMapByIndex=<span class="cstat-no" title="statement not covered" >this.colorMapByIndex,</span>colorMapByValue=<span class="cstat-no" title="statement not covered" >this.colorMapByValue,</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>color,newColor;<span class="cstat-no" title="statement not covered" >if(this.stacked){<span class="cstat-no" title="statement not covered" >color=options.get("stackedBarColor")}</span>else{<span class="cstat-no" title="statement not covered" >color=value&lt;0?options.get("negBarColor"):options.get("barColor")}<span class="cstat-no" title="statement not covered" ></span>i</span>f(value===0&amp;&amp;options.get("zeroColor")!==undefined){<span class="cstat-no" title="statement not covered" >color=options.get("zeroColor")}<span class="cstat-no" title="statement not covered" ></span>i</span>f(colorMapByValue&amp;&amp;(newColor=colorMapByValue.get(value))){<span class="cstat-no" title="statement not covered" >color=newColor}</span>else <span class="cstat-no" title="statement not covered" >if(colorMapByIndex&amp;&amp;colorMapByIndex.length&gt;valuenum){<span class="cstat-no" title="statement not covered" >color=colorMapByIndex[valuenum]}<span class="cstat-no" title="statement not covered" ></span>r</span></span>eturn $.isArray(color)?color[stacknum%color.length]:color}</span>,renderRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(valuenum,highlight){var vals=<span class="cstat-no" title="statement not covered" >this.values[valuenum],</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>xaxisOffset=<span class="cstat-no" title="statement not covered" >this.xaxisOffset,</span>result=<span class="cstat-no" title="statement not covered" >[],</span>range=<span class="cstat-no" title="statement not covered" >this.range,</span>stacked=<span class="cstat-no" title="statement not covered" >this.stacked,</span>target=<span class="cstat-no" title="statement not covered" >this.target,</span>x=<span class="cstat-no" title="statement not covered" >valuenum*this.totalBarWidth,</span>canvasHeightEf=<span class="cstat-no" title="statement not covered" >this.canvasHeightEf,</span>yoffset=<span class="cstat-no" title="statement not covered" >this.yoffset,</span>y,height,color,isNull,yoffsetNeg,i,valcount,val,minPlotted,allMin;<span class="cstat-no" title="statement not covered" >vals=$.isArray(vals)?vals:[vals];<span class="cstat-no" title="statement not covered" >v</span>alcount=vals.length;<span class="cstat-no" title="statement not covered" >v</span>al=vals[0];<span class="cstat-no" title="statement not covered" >i</span>sNull=all(null,vals);<span class="cstat-no" title="statement not covered" >a</span>llMin=all(xaxisOffset,vals,true);<span class="cstat-no" title="statement not covered" >i</span>f(isNull){<span class="cstat-no" title="statement not covered" >if(options.get("nullColor")){<span class="cstat-no" title="statement not covered" >color=highlight?options.get("nullColor"):this.calcHighlightColor(options.get("nullColor"),options);<span class="cstat-no" title="statement not covered" >y</span>=yoffset&gt;0?yoffset-1:yoffset;<span class="cstat-no" title="statement not covered" >r</span>eturn target.drawRect(x,y,this.barWidth-1,0,color,color)}</span>else{<span class="cstat-no" title="statement not covered" >return undefined}</span>}<span class="cstat-no" title="statement not covered" ></span>y</span>offsetNeg=yoffset;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;valcount;i++){<span class="cstat-no" title="statement not covered" >val=vals[i];<span class="cstat-no" title="statement not covered" >i</span>f(stacked&amp;&amp;val===xaxisOffset){<span class="cstat-no" title="statement not covered" >if(!allMin||minPlotted){<span class="cstat-no" title="statement not covered" >continue}<span class="cstat-no" title="statement not covered" ></span>m</span>inPlotted=true}<span class="cstat-no" title="statement not covered" ></span>i</span>f(range&gt;0){<span class="cstat-no" title="statement not covered" >height=Math.floor(canvasHeightEf*(Math.abs(val-xaxisOffset)/range))+1}</span>else{<span class="cstat-no" title="statement not covered" >height=1}<span class="cstat-no" title="statement not covered" ></span>i</span>f(val&lt;xaxisOffset||val===xaxisOffset&amp;&amp;yoffset===0){<span class="cstat-no" title="statement not covered" >y=yoffsetNeg;<span class="cstat-no" title="statement not covered" >y</span>offsetNeg+=height}</span>else{<span class="cstat-no" title="statement not covered" >y=yoffset-height;<span class="cstat-no" title="statement not covered" >y</span>offset-=height}<span class="cstat-no" title="statement not covered" ></span>c</span>olor=this.calcColor(i,val,valuenum);<span class="cstat-no" title="statement not covered" >i</span>f(highlight){<span class="cstat-no" title="statement not covered" >color=this.calcHighlightColor(color,options)}<span class="cstat-no" title="statement not covered" ></span>r</span>esult.push(target.drawRect(x,y,this.barWidth-1,height-1,color,color))}<span class="cstat-no" title="statement not covered" ></span>i</span>f(result.length===1){<span class="cstat-no" title="statement not covered" >return result[0]}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn result}</span>});<span class="cstat-no" title="statement not covered" >$.fn.sparkline.tristate=tristate=createClass($.fn.sparkline._base,barHighlightMixin,{type:"tristate",init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,values,options,width,height){var barWidth=<span class="cstat-no" title="statement not covered" >parseInt(options.get("barWidth"),10),</span>barSpacing=<span class="cstat-no" title="statement not covered" >parseInt(options.get("barSpacing"),10);<span class="cstat-no" title="statement not covered" ></span>tristate._super.init.call(this,el,values,options,width,height);<span class="cstat-no" title="statement not covered" >t</span>his.regionShapes={};<span class="cstat-no" title="statement not covered" >t</span>his.barWidth=barWidth;<span class="cstat-no" title="statement not covered" >t</span>his.barSpacing=barSpacing;<span class="cstat-no" title="statement not covered" >t</span>his.totalBarWidth=barWidth+barSpacing;<span class="cstat-no" title="statement not covered" >t</span>his.values=$.map(values,Number);<span class="cstat-no" title="statement not covered" >t</span>his.width=width=values.length*barWidth+(values.length-1)*barSpacing;<span class="cstat-no" title="statement not covered" >i</span>f($.isArray(options.get("colorMap"))){<span class="cstat-no" title="statement not covered" >this.colorMapByIndex=options.get("colorMap");<span class="cstat-no" title="statement not covered" >t</span>his.colorMapByValue=null}</span>else{<span class="cstat-no" title="statement not covered" >this.colorMapByIndex=null;<span class="cstat-no" title="statement not covered" >t</span>his.colorMapByValue=options.get("colorMap");<span class="cstat-no" title="statement not covered" >i</span>f(this.colorMapByValue&amp;&amp;this.colorMapByValue.get===undefined){<span class="cstat-no" title="statement not covered" >this.colorMapByValue=new RangeMap(this.colorMapByValue)}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>his.initTarget()}</span>,getRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){<span class="cstat-no" title="statement not covered" >return Math.floor(x/this.totalBarWidth)}</span>,getCurrentRegionFields:<span class="fstat-no" title="function not covered" >fu</span>nction(){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion;<span class="cstat-no" title="statement not covered" ></span>return{isNull:this.values[currentRegion]===undefined,value:this.values[currentRegion],color:this.calcColor(this.values[currentRegion],currentRegion),offset:currentRegion}}</span>,calcColor:<span class="fstat-no" title="function not covered" >fu</span>nction(value,valuenum){var values=<span class="cstat-no" title="statement not covered" >this.values,</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>colorMapByIndex=<span class="cstat-no" title="statement not covered" >this.colorMapByIndex,</span>colorMapByValue=<span class="cstat-no" title="statement not covered" >this.colorMapByValue,</span>color,newColor;<span class="cstat-no" title="statement not covered" >if(colorMapByValue&amp;&amp;(newColor=colorMapByValue.get(value))){<span class="cstat-no" title="statement not covered" >color=newColor}</span>else <span class="cstat-no" title="statement not covered" >if(colorMapByIndex&amp;&amp;colorMapByIndex.length&gt;valuenum){<span class="cstat-no" title="statement not covered" >color=colorMapByIndex[valuenum]}</span>else <span class="cstat-no" title="statement not covered" >if(values[valuenum]&lt;0){<span class="cstat-no" title="statement not covered" >color=options.get("negBarColor")}</span>else <span class="cstat-no" title="statement not covered" >if(values[valuenum]&gt;0){<span class="cstat-no" title="statement not covered" >color=options.get("posBarColor")}</span>else{<span class="cstat-no" title="statement not covered" >color=options.get("zeroBarColor")}<span class="cstat-no" title="statement not covered" ></span>r</span></span></span></span>eturn color}</span>,renderRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(valuenum,highlight){var values=<span class="cstat-no" title="statement not covered" >this.values,</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>target=<span class="cstat-no" title="statement not covered" >this.target,</span>canvasHeight,height,halfHeight,x,y,color;<span class="cstat-no" title="statement not covered" >canvasHeight=target.pixelHeight;<span class="cstat-no" title="statement not covered" >h</span>alfHeight=Math.round(canvasHeight/2);<span class="cstat-no" title="statement not covered" >x</span>=valuenum*this.totalBarWidth;<span class="cstat-no" title="statement not covered" >i</span>f(values[valuenum]&lt;0){<span class="cstat-no" title="statement not covered" >y=halfHeight;<span class="cstat-no" title="statement not covered" >h</span>eight=halfHeight-1}</span>else <span class="cstat-no" title="statement not covered" >if(values[valuenum]&gt;0){<span class="cstat-no" title="statement not covered" >y=0;<span class="cstat-no" title="statement not covered" >h</span>eight=halfHeight-1}</span>else{<span class="cstat-no" title="statement not covered" >y=halfHeight-1;<span class="cstat-no" title="statement not covered" >h</span>eight=2}<span class="cstat-no" title="statement not covered" ></span>c</span></span>olor=this.calcColor(values[valuenum],valuenum);<span class="cstat-no" title="statement not covered" >i</span>f(color===null){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>i</span>f(highlight){<span class="cstat-no" title="statement not covered" >color=this.calcHighlightColor(color,options)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn target.drawRect(x,y,this.barWidth-1,height-1,color,color)}</span>});<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.discrete=discrete=createClass($.fn.sparkline._base,barHighlightMixin,{type:"discrete",init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,values,options,width,height){<span class="cstat-no" title="statement not covered" >discrete._super.init.call(this,el,values,options,width,height);<span class="cstat-no" title="statement not covered" >t</span>his.regionShapes={};<span class="cstat-no" title="statement not covered" >t</span>his.values=values=$.map(values,Number);<span class="cstat-no" title="statement not covered" >t</span>his.min=Math.min.apply(Math,values);<span class="cstat-no" title="statement not covered" >t</span>his.max=Math.max.apply(Math,values);<span class="cstat-no" title="statement not covered" >t</span>his.range=this.max-this.min;<span class="cstat-no" title="statement not covered" >t</span>his.width=width=options.get("width")==="auto"?values.length*2:this.width;<span class="cstat-no" title="statement not covered" >t</span>his.interval=Math.floor(width/values.length);<span class="cstat-no" title="statement not covered" >t</span>his.itemWidth=width/values.length;<span class="cstat-no" title="statement not covered" >i</span>f(options.get("chartRangeMin")!==undefined&amp;&amp;(options.get("chartRangeClip")||options.get("chartRangeMin")&lt;this.min)){<span class="cstat-no" title="statement not covered" >this.min=options.get("chartRangeMin")}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("chartRangeMax")!==undefined&amp;&amp;(options.get("chartRangeClip")||options.get("chartRangeMax")&gt;this.max)){<span class="cstat-no" title="statement not covered" >this.max=options.get("chartRangeMax")}<span class="cstat-no" title="statement not covered" ></span>t</span>his.initTarget();<span class="cstat-no" title="statement not covered" >i</span>f(this.target){<span class="cstat-no" title="statement not covered" >this.lineHeight=options.get("lineHeight")==="auto"?Math.round(this.canvasHeight*.3):options.get("lineHeight")}</span>}</span>,getRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){<span class="cstat-no" title="statement not covered" >return Math.floor(x/this.itemWidth)}</span>,getCurrentRegionFields:<span class="fstat-no" title="function not covered" >fu</span>nction(){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion;<span class="cstat-no" title="statement not covered" ></span>return{isNull:this.values[currentRegion]===undefined,value:this.values[currentRegion],offset:currentRegion}}</span>,renderRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(valuenum,highlight){var values=<span class="cstat-no" title="statement not covered" >this.values,</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>min=<span class="cstat-no" title="statement not covered" >this.min,</span>max=<span class="cstat-no" title="statement not covered" >this.max,</span>range=<span class="cstat-no" title="statement not covered" >this.range,</span>interval=<span class="cstat-no" title="statement not covered" >this.interval,</span>target=<span class="cstat-no" title="statement not covered" >this.target,</span>canvasHeight=<span class="cstat-no" title="statement not covered" >this.canvasHeight,</span>lineHeight=<span class="cstat-no" title="statement not covered" >this.lineHeight,</span>pheight=<span class="cstat-no" title="statement not covered" >canvasHeight-lineHeight,</span>ytop,val,color,x;<span class="cstat-no" title="statement not covered" >val=clipval(values[valuenum],min,max);<span class="cstat-no" title="statement not covered" >x</span>=valuenum*interval;<span class="cstat-no" title="statement not covered" >y</span>top=Math.round(pheight-pheight*((val-min)/range));<span class="cstat-no" title="statement not covered" >c</span>olor=options.get("thresholdColor")&amp;&amp;val&lt;options.get("thresholdValue")?options.get("thresholdColor"):options.get("lineColor");<span class="cstat-no" title="statement not covered" >i</span>f(highlight){<span class="cstat-no" title="statement not covered" >color=this.calcHighlightColor(color,options)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn target.drawLine(x,ytop,x,ytop+lineHeight,color)}</span>});<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.bullet=bullet=createClass($.fn.sparkline._base,{type:"bullet",init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,values,options,width,height){var min,max,vals;<span class="cstat-no" title="statement not covered" >bullet._super.init.call(this,el,values,options,width,height);<span class="cstat-no" title="statement not covered" >t</span>his.values=values=normalizeValues(values);<span class="cstat-no" title="statement not covered" >v</span>als=values.slice();<span class="cstat-no" title="statement not covered" >v</span>als[0]=vals[0]===null?vals[2]:vals[0];<span class="cstat-no" title="statement not covered" >v</span>als[1]=values[1]===null?vals[2]:vals[1];<span class="cstat-no" title="statement not covered" >m</span>in=Math.min.apply(Math,values);<span class="cstat-no" title="statement not covered" >m</span>ax=Math.max.apply(Math,values);<span class="cstat-no" title="statement not covered" >i</span>f(options.get("base")===undefined){<span class="cstat-no" title="statement not covered" >min=min&lt;0?min:0}</span>else{<span class="cstat-no" title="statement not covered" >min=options.get("base")}<span class="cstat-no" title="statement not covered" ></span>t</span>his.min=min;<span class="cstat-no" title="statement not covered" >t</span>his.max=max;<span class="cstat-no" title="statement not covered" >t</span>his.range=max-min;<span class="cstat-no" title="statement not covered" >t</span>his.shapes={};<span class="cstat-no" title="statement not covered" >t</span>his.valueShapes={};<span class="cstat-no" title="statement not covered" >t</span>his.regiondata={};<span class="cstat-no" title="statement not covered" >t</span>his.width=width=options.get("width")==="auto"?"4.0em":width;<span class="cstat-no" title="statement not covered" >t</span>his.target=this.$el.simpledraw(width,height,options.get("composite"));<span class="cstat-no" title="statement not covered" >i</span>f(!values.length){<span class="cstat-no" title="statement not covered" >this.disabled=true}<span class="cstat-no" title="statement not covered" ></span>t</span>his.initTarget()}</span>,getRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){var shapeid=<span class="cstat-no" title="statement not covered" >this.target.getShapeAt(el,x,y);<span class="cstat-no" title="statement not covered" ></span>return shapeid!==undefined&amp;&amp;this.shapes[shapeid]!==undefined?this.shapes[shapeid]:undefined}</span>,getCurrentRegionFields:<span class="fstat-no" title="function not covered" >fu</span>nction(){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion;<span class="cstat-no" title="statement not covered" ></span>return{fieldkey:currentRegion.substr(0,1),value:this.values[currentRegion.substr(1)],region:currentRegion}}</span>,changeHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(highlight){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion,</span>shapeid=<span class="cstat-no" title="statement not covered" >this.valueShapes[currentRegion],</span>shape;<span class="cstat-no" title="statement not covered" >delete this.shapes[shapeid];<span class="cstat-no" title="statement not covered" >s</span>witch(currentRegion.substr(0,1)){case"r":<span class="cstat-no" title="statement not covered" >shape=this.renderRange(currentRegion.substr(1),highlight);<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase"p":<span class="cstat-no" title="statement not covered" >shape=this.renderPerformance(highlight);<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase"t":<span class="cstat-no" title="statement not covered" >shape=this.renderTarget(highlight);<span class="cstat-no" title="statement not covered" >b</span>reak}<span class="cstat-no" title="statement not covered" ></span>t</span>his.valueShapes[currentRegion]=shape.id;<span class="cstat-no" title="statement not covered" >t</span>his.shapes[shape.id]=currentRegion;<span class="cstat-no" title="statement not covered" >t</span>his.target.replaceWithShape(shapeid,shape)}</span>,renderRange:<span class="fstat-no" title="function not covered" >fu</span>nction(rn,highlight){var rangeval=<span class="cstat-no" title="statement not covered" >this.values[rn],</span>rangewidth=<span class="cstat-no" title="statement not covered" >Math.round(this.canvasWidth*((rangeval-this.min)/this.range)),</span>color=<span class="cstat-no" title="statement not covered" >this.options.get("rangeColors")[rn-2];<span class="cstat-no" title="statement not covered" ></span>if(highlight){<span class="cstat-no" title="statement not covered" >color=this.calcHighlightColor(color,this.options)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn this.target.drawRect(0,0,rangewidth-1,this.canvasHeight-1,color,color)}</span>,renderPerformance:<span class="fstat-no" title="function not covered" >fu</span>nction(highlight){var perfval=<span class="cstat-no" title="statement not covered" >this.values[1],</span>perfwidth=<span class="cstat-no" title="statement not covered" >Math.round(this.canvasWidth*((perfval-this.min)/this.range)),</span>color=<span class="cstat-no" title="statement not covered" >this.options.get("performanceColor");<span class="cstat-no" title="statement not covered" ></span>if(highlight){<span class="cstat-no" title="statement not covered" >color=this.calcHighlightColor(color,this.options)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn this.target.drawRect(0,Math.round(this.canvasHeight*.3),perfwidth-1,Math.round(this.canvasHeight*.4)-1,color,color)}</span>,renderTarget:<span class="fstat-no" title="function not covered" >fu</span>nction(highlight){var targetval=<span class="cstat-no" title="statement not covered" >this.values[0],</span>x=<span class="cstat-no" title="statement not covered" >Math.round(this.canvasWidth*((targetval-this.min)/this.range)-this.options.get("targetWidth")/2),</span>targettop=<span class="cstat-no" title="statement not covered" >Math.round(this.canvasHeight*.1),</span>targetheight=<span class="cstat-no" title="statement not covered" >this.canvasHeight-targettop*2,</span>color=<span class="cstat-no" title="statement not covered" >this.options.get("targetColor");<span class="cstat-no" title="statement not covered" ></span>if(highlight){<span class="cstat-no" title="statement not covered" >color=this.calcHighlightColor(color,this.options)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn this.target.drawRect(x,targettop,this.options.get("targetWidth")-1,targetheight-1,color,color)}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){var vlen=<span class="cstat-no" title="statement not covered" >this.values.length,</span>target=<span class="cstat-no" title="statement not covered" >this.target,</span>i,shape;<span class="cstat-no" title="statement not covered" >if(!bullet._super.render.call(this)){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=2;i&lt;vlen;i++){<span class="cstat-no" title="statement not covered" >shape=this.renderRange(i).append();<span class="cstat-no" title="statement not covered" >t</span>his.shapes[shape.id]="r"+i;<span class="cstat-no" title="statement not covered" >t</span>his.valueShapes["r"+i]=shape.id}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.values[1]!==null){<span class="cstat-no" title="statement not covered" >shape=this.renderPerformance().append();<span class="cstat-no" title="statement not covered" >t</span>his.shapes[shape.id]="p1";<span class="cstat-no" title="statement not covered" >t</span>his.valueShapes.p1=shape.id}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.values[0]!==null){<span class="cstat-no" title="statement not covered" >shape=this.renderTarget().append();<span class="cstat-no" title="statement not covered" >t</span>his.shapes[shape.id]="t0";<span class="cstat-no" title="statement not covered" >t</span>his.valueShapes.t0=shape.id}<span class="cstat-no" title="statement not covered" ></span>t</span>arget.render()}</span>});<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.pie=pie=createClass($.fn.sparkline._base,{type:"pie",init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,values,options,width,height){var total=<span class="cstat-no" title="statement not covered" >0,</span>i;<span class="cstat-no" title="statement not covered" >pie._super.init.call(this,el,values,options,width,height);<span class="cstat-no" title="statement not covered" >t</span>his.shapes={};<span class="cstat-no" title="statement not covered" >t</span>his.valueShapes={};<span class="cstat-no" title="statement not covered" >t</span>his.values=values=$.map(values,Number);<span class="cstat-no" title="statement not covered" >i</span>f(options.get("width")==="auto"){<span class="cstat-no" title="statement not covered" >this.width=this.height}<span class="cstat-no" title="statement not covered" ></span>i</span>f(values.length&gt;0){<span class="cstat-no" title="statement not covered" >for(i=values.length;i--;){<span class="cstat-no" title="statement not covered" >total+=values[i]}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>his.total=total;<span class="cstat-no" title="statement not covered" >t</span>his.initTarget();<span class="cstat-no" title="statement not covered" >t</span>his.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/2)}</span>,getRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){var shapeid=<span class="cstat-no" title="statement not covered" >this.target.getShapeAt(el,x,y);<span class="cstat-no" title="statement not covered" ></span>return shapeid!==undefined&amp;&amp;this.shapes[shapeid]!==undefined?this.shapes[shapeid]:undefined}</span>,getCurrentRegionFields:<span class="fstat-no" title="function not covered" >fu</span>nction(){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion;<span class="cstat-no" title="statement not covered" ></span>return{isNull:this.values[currentRegion]===undefined,value:this.values[currentRegion],percent:this.values[currentRegion]/this.total*100,color:this.options.get("sliceColors")[currentRegion%this.options.get("sliceColors").length],offset:currentRegion}}</span>,changeHighlight:<span class="fstat-no" title="function not covered" >fu</span>nction(highlight){var currentRegion=<span class="cstat-no" title="statement not covered" >this.currentRegion,</span>newslice=<span class="cstat-no" title="statement not covered" >this.renderSlice(currentRegion,highlight),</span>shapeid=<span class="cstat-no" title="statement not covered" >this.valueShapes[currentRegion];<span class="cstat-no" title="statement not covered" ></span>delete this.shapes[shapeid];<span class="cstat-no" title="statement not covered" >t</span>his.target.replaceWithShape(shapeid,newslice);<span class="cstat-no" title="statement not covered" >t</span>his.valueShapes[currentRegion]=newslice.id;<span class="cstat-no" title="statement not covered" >t</span>his.shapes[newslice.id]=currentRegion}</span>,renderSlice:<span class="fstat-no" title="function not covered" >fu</span>nction(valuenum,highlight){var target=<span class="cstat-no" title="statement not covered" >this.target,</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>radius=<span class="cstat-no" title="statement not covered" >this.radius,</span>borderWidth=<span class="cstat-no" title="statement not covered" >options.get("borderWidth"),</span>offset=<span class="cstat-no" title="statement not covered" >options.get("offset"),</span>circle=<span class="cstat-no" title="statement not covered" >2*Math.PI,</span>values=<span class="cstat-no" title="statement not covered" >this.values,</span>total=<span class="cstat-no" title="statement not covered" >this.total,</span>next=<span class="cstat-no" title="statement not covered" >offset?2*Math.PI*(offset/360):0,</span>start,end,i,vlen,color;<span class="cstat-no" title="statement not covered" >vlen=values.length;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;vlen;i++){<span class="cstat-no" title="statement not covered" >start=next;<span class="cstat-no" title="statement not covered" >e</span>nd=next;<span class="cstat-no" title="statement not covered" >i</span>f(total&gt;0){<span class="cstat-no" title="statement not covered" >end=next+circle*(values[i]/total)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(valuenum===i){<span class="cstat-no" title="statement not covered" >color=options.get("sliceColors")[i%options.get("sliceColors").length];<span class="cstat-no" title="statement not covered" >i</span>f(highlight){<span class="cstat-no" title="statement not covered" >color=this.calcHighlightColor(color,options)}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn target.drawPieSlice(radius,radius,radius-borderWidth,start,end,undefined,color)}<span class="cstat-no" title="statement not covered" ></span>n</span>ext=end}</span>}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){var target=<span class="cstat-no" title="statement not covered" >this.target,</span>values=<span class="cstat-no" title="statement not covered" >this.values,</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>radius=<span class="cstat-no" title="statement not covered" >this.radius,</span>borderWidth=<span class="cstat-no" title="statement not covered" >options.get("borderWidth"),</span>donutWidth=<span class="cstat-no" title="statement not covered" >options.get("donutWidth"),</span>shape,i;<span class="cstat-no" title="statement not covered" >if(!pie._super.render.call(this)){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>i</span>f(borderWidth){<span class="cstat-no" title="statement not covered" >target.drawCircle(radius,radius,Math.floor(radius-borderWidth/2),options.get("borderColor"),undefined,borderWidth).append()}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=values.length;i--;){<span class="cstat-no" title="statement not covered" >if(values[i]){<span class="cstat-no" title="statement not covered" >shape=this.renderSlice(i).append();<span class="cstat-no" title="statement not covered" >t</span>his.valueShapes[i]=shape.id;<span class="cstat-no" title="statement not covered" >t</span>his.shapes[shape.id]=i}</span>}<span class="cstat-no" title="statement not covered" ></span>i</span>f(donutWidth){<span class="cstat-no" title="statement not covered" >target.drawCircle(radius,radius,radius-donutWidth,options.get("donutColor"),options.get("donutColor"),0).append()}<span class="cstat-no" title="statement not covered" ></span>t</span>arget.render()}</span>});<span class="cstat-no" title="statement not covered" >$</span>.fn.sparkline.box=box=createClass($.fn.sparkline._base,{type:"box",init:<span class="fstat-no" title="function not covered" >fu</span>nction(el,values,options,width,height){<span class="cstat-no" title="statement not covered" >box._super.init.call(this,el,values,options,width,height);<span class="cstat-no" title="statement not covered" >t</span>his.values=$.map(values,Number);<span class="cstat-no" title="statement not covered" >t</span>his.width=options.get("width")==="auto"?"4.0em":width;<span class="cstat-no" title="statement not covered" >t</span>his.initTarget();<span class="cstat-no" title="statement not covered" >i</span>f(!this.values.length){<span class="cstat-no" title="statement not covered" >this.disabled=1}</span>}</span>,getRegion:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return 1}</span>,getCurrentRegionFields:<span class="fstat-no" title="function not covered" >fu</span>nction(){var result=<span class="cstat-no" title="statement not covered" >[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];<span class="cstat-no" title="statement not covered" ></span>if(this.loutlier!==undefined){<span class="cstat-no" title="statement not covered" >result.push({field:"lo",value:this.loutlier})}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.routlier!==undefined){<span class="cstat-no" title="statement not covered" >result.push({field:"ro",value:this.routlier})}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.lwhisker!==undefined){<span class="cstat-no" title="statement not covered" >result.push({field:"lw",value:this.lwhisker})}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.rwhisker!==undefined){<span class="cstat-no" title="statement not covered" >result.push({field:"rw",value:this.rwhisker})}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn result}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){var target=<span class="cstat-no" title="statement not covered" >this.target,</span>values=<span class="cstat-no" title="statement not covered" >this.values,</span>vlen=<span class="cstat-no" title="statement not covered" >values.length,</span>options=<span class="cstat-no" title="statement not covered" >this.options,</span>canvasWidth=<span class="cstat-no" title="statement not covered" >this.canvasWidth,</span>canvasHeight=<span class="cstat-no" title="statement not covered" >this.canvasHeight,</span>minValue=<span class="cstat-no" title="statement not covered" >options.get("chartRangeMin")===undefined?Math.min.apply(Math,values):options.get("chartRangeMin"),</span>maxValue=<span class="cstat-no" title="statement not covered" >options.get("chartRangeMax")===undefined?Math.max.apply(Math,values):options.get("chartRangeMax"),</span>canvasLeft=<span class="cstat-no" title="statement not covered" >0,</span>lwhisker,loutlier,iqr,q1,q2,q3,rwhisker,routlier,i,size,unitSize;<span class="cstat-no" title="statement not covered" >if(!box._super.render.call(this)){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>i</span>f(options.get("raw")){<span class="cstat-no" title="statement not covered" >if(options.get("showOutliers")&amp;&amp;values.length&gt;5){<span class="cstat-no" title="statement not covered" >loutlier=values[0];<span class="cstat-no" title="statement not covered" >l</span>whisker=values[1];<span class="cstat-no" title="statement not covered" >q</span>1=values[2];<span class="cstat-no" title="statement not covered" >q</span>2=values[3];<span class="cstat-no" title="statement not covered" >q</span>3=values[4];<span class="cstat-no" title="statement not covered" >r</span>whisker=values[5];<span class="cstat-no" title="statement not covered" >r</span>outlier=values[6]}</span>else{<span class="cstat-no" title="statement not covered" >lwhisker=values[0];<span class="cstat-no" title="statement not covered" >q</span>1=values[1];<span class="cstat-no" title="statement not covered" >q</span>2=values[2];<span class="cstat-no" title="statement not covered" >q</span>3=values[3];<span class="cstat-no" title="statement not covered" >r</span>whisker=values[4]}</span>}</span>else{<span class="cstat-no" title="statement not covered" >values.sort(<span class="fstat-no" title="function not covered" >fu</span>nction(a,b){<span class="cstat-no" title="statement not covered" >return a-b}</span>);<span class="cstat-no" title="statement not covered" >q</span>1=quartile(values,1);<span class="cstat-no" title="statement not covered" >q</span>2=quartile(values,2);<span class="cstat-no" title="statement not covered" >q</span>3=quartile(values,3);<span class="cstat-no" title="statement not covered" >i</span>qr=q3-q1;<span class="cstat-no" title="statement not covered" >i</span>f(options.get("showOutliers")){<span class="cstat-no" title="statement not covered" >lwhisker=rwhisker=undefined;<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;vlen;i++){<span class="cstat-no" title="statement not covered" >if(lwhisker===undefined&amp;&amp;values[i]&gt;q1-iqr*options.get("outlierIQR")){<span class="cstat-no" title="statement not covered" >lwhisker=values[i]}<span class="cstat-no" title="statement not covered" ></span>i</span>f(values[i]&lt;q3+iqr*options.get("outlierIQR")){<span class="cstat-no" title="statement not covered" >rwhisker=values[i]}</span>}<span class="cstat-no" title="statement not covered" ></span>l</span>outlier=values[0];<span class="cstat-no" title="statement not covered" >r</span>outlier=values[vlen-1]}</span>else{<span class="cstat-no" title="statement not covered" >lwhisker=values[0];<span class="cstat-no" title="statement not covered" >r</span>whisker=values[vlen-1]}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>his.quartiles=[q1,q2,q3];<span class="cstat-no" title="statement not covered" >t</span>his.lwhisker=lwhisker;<span class="cstat-no" title="statement not covered" >t</span>his.rwhisker=rwhisker;<span class="cstat-no" title="statement not covered" >t</span>his.loutlier=loutlier;<span class="cstat-no" title="statement not covered" >t</span>his.routlier=routlier;<span class="cstat-no" title="statement not covered" >u</span>nitSize=canvasWidth/(maxValue-minValue+1);<span class="cstat-no" title="statement not covered" >i</span>f(options.get("showOutliers")){<span class="cstat-no" title="statement not covered" >canvasLeft=Math.ceil(options.get("spotRadius"));<span class="cstat-no" title="statement not covered" >c</span>anvasWidth-=2*Math.ceil(options.get("spotRadius"));<span class="cstat-no" title="statement not covered" >u</span>nitSize=canvasWidth/(maxValue-minValue+1);<span class="cstat-no" title="statement not covered" >i</span>f(loutlier&lt;lwhisker){<span class="cstat-no" title="statement not covered" >target.drawCircle((loutlier-minValue)*unitSize+canvasLeft,canvasHeight/2,options.get("spotRadius"),options.get("outlierLineColor"),options.get("outlierFillColor")).append()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(routlier&gt;rwhisker){<span class="cstat-no" title="statement not covered" >target.drawCircle((routlier-minValue)*unitSize+canvasLeft,canvasHeight/2,options.get("spotRadius"),options.get("outlierLineColor"),options.get("outlierFillColor")).append()}</span>}<span class="cstat-no" title="statement not covered" ></span>t</span>arget.drawRect(Math.round((q1-minValue)*unitSize+canvasLeft),Math.round(canvasHeight*.1),Math.round((q3-q1)*unitSize),Math.round(canvasHeight*.8),options.get("boxLineColor"),options.get("boxFillColor")).append();<span class="cstat-no" title="statement not covered" >t</span>arget.drawLine(Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),Math.round((q1-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),options.get("lineColor")).append();<span class="cstat-no" title="statement not covered" >t</span>arget.drawLine(Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/4),Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight-canvasHeight/4),options.get("whiskerColor")).append();<span class="cstat-no" title="statement not covered" >t</span>arget.drawLine(Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),Math.round((q3-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),options.get("lineColor")).append();<span class="cstat-no" title="statement not covered" >t</span>arget.drawLine(Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/4),Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight-canvasHeight/4),options.get("whiskerColor")).append();<span class="cstat-no" title="statement not covered" >t</span>arget.drawLine(Math.round((q2-minValue)*unitSize+canvasLeft),Math.round(canvasHeight*.1),Math.round((q2-minValue)*unitSize+canvasLeft),Math.round(canvasHeight*.9),options.get("medianColor")).append();<span class="cstat-no" title="statement not covered" >i</span>f(options.get("target")){<span class="cstat-no" title="statement not covered" >size=Math.ceil(options.get("spotRadius"));<span class="cstat-no" title="statement not covered" >t</span>arget.drawLine(Math.round((options.get("target")-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2-size),Math.round((options.get("target")-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2+size),options.get("targetColor")).append();<span class="cstat-no" title="statement not covered" >t</span>arget.drawLine(Math.round((options.get("target")-minValue)*unitSize+canvasLeft-size),Math.round(canvasHeight/2),Math.round((options.get("target")-minValue)*unitSize+canvasLeft+size),Math.round(canvasHeight/2),options.get("targetColor")).append()}<span class="cstat-no" title="statement not covered" ></span>t</span>arget.render()}</span>});<span class="cstat-no" title="statement not covered" >V</span>Shape=createClass({init:<span class="fstat-no" title="function not covered" >fu</span>nction(target,id,type,args){<span class="cstat-no" title="statement not covered" >this.target=target;<span class="cstat-no" title="statement not covered" >t</span>his.id=id;<span class="cstat-no" title="statement not covered" >t</span>his.type=type;<span class="cstat-no" title="statement not covered" >t</span>his.args=args}</span>,append:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >this.target.appendShape(this);<span class="cstat-no" title="statement not covered" >r</span>eturn this}</span>});<span class="cstat-no" title="statement not covered" >V</span>Canvas_base=createClass({_pxregex:/(\d+)(px)?\s*$/i,init:<span class="fstat-no" title="function not covered" >fu</span>nction(width,height,target){<span class="cstat-no" title="statement not covered" >if(!width){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>t</span>his.width=width;<span class="cstat-no" title="statement not covered" >t</span>his.height=height;<span class="cstat-no" title="statement not covered" >t</span>his.target=target;<span class="cstat-no" title="statement not covered" >t</span>his.lastShapeId=null;<span class="cstat-no" title="statement not covered" >i</span>f(target[0]){<span class="cstat-no" title="statement not covered" >target=target[0]}<span class="cstat-no" title="statement not covered" ></span>$</span>.data(target,"_jqs_vcanvas",this)}</span>,drawLine:<span class="fstat-no" title="function not covered" >fu</span>nction(x1,y1,x2,y2,lineColor,lineWidth){<span class="cstat-no" title="statement not covered" >return this.drawShape([[x1,y1],[x2,y2]],lineColor,lineWidth)}</span>,drawShape:<span class="fstat-no" title="function not covered" >fu</span>nction(path,lineColor,fillColor,lineWidth){<span class="cstat-no" title="statement not covered" >return this._genShape("Shape",[path,lineColor,fillColor,lineWidth])}</span>,drawCircle:<span class="fstat-no" title="function not covered" >fu</span>nction(x,y,radius,lineColor,fillColor,lineWidth){<span class="cstat-no" title="statement not covered" >return this._genShape("Circle",[x,y,radius,lineColor,fillColor,lineWidth])}</span>,drawPieSlice:<span class="fstat-no" title="function not covered" >fu</span>nction(x,y,radius,startAngle,endAngle,lineColor,fillColor){<span class="cstat-no" title="statement not covered" >return this._genShape("PieSlice",[x,y,radius,startAngle,endAngle,lineColor,fillColor])}</span>,drawRect:<span class="fstat-no" title="function not covered" >fu</span>nction(x,y,width,height,lineColor,fillColor){<span class="cstat-no" title="statement not covered" >return this._genShape("Rect",[x,y,width,height,lineColor,fillColor])}</span>,getElement:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return this.canvas}</span>,getLastShapeId:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return this.lastShapeId}</span>,reset:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >alert("reset not implemented")}</span>,_insert:<span class="fstat-no" title="function not covered" >fu</span>nction(el,target){<span class="cstat-no" title="statement not covered" >$(target).html(el)}</span>,_calculatePixelDims:<span class="fstat-no" title="function not covered" >fu</span>nction(width,height,canvas){var match;<span class="cstat-no" title="statement not covered" >match=this._pxregex.exec(height);<span class="cstat-no" title="statement not covered" >i</span>f(match){<span class="cstat-no" title="statement not covered" >this.pixelHeight=match[1]}</span>else{<span class="cstat-no" title="statement not covered" >this.pixelHeight=$(canvas).height()}<span class="cstat-no" title="statement not covered" ></span>m</span>atch=this._pxregex.exec(width);<span class="cstat-no" title="statement not covered" >i</span>f(match){<span class="cstat-no" title="statement not covered" >this.pixelWidth=match[1]}</span>else{<span class="cstat-no" title="statement not covered" >this.pixelWidth=$(canvas).width()}</span>}</span>,_genShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapetype,shapeargs){var id=<span class="cstat-no" title="statement not covered" >shapeCount++;<span class="cstat-no" title="statement not covered" ></span>shapeargs.unshift(id);<span class="cstat-no" title="statement not covered" >r</span>eturn new VShape(this,id,shapetype,shapeargs)}</span>,appendShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shape){<span class="cstat-no" title="statement not covered" >alert("appendShape not implemented")}</span>,replaceWithShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,shape){<span class="cstat-no" title="statement not covered" >alert("replaceWithShape not implemented")}</span>,insertAfterShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,shape){<span class="cstat-no" title="statement not covered" >alert("insertAfterShape not implemented")}</span>,removeShapeId:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid){<span class="cstat-no" title="statement not covered" >alert("removeShapeId not implemented")}</span>,getShapeAt:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){<span class="cstat-no" title="statement not covered" >alert("getShapeAt not implemented")}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >alert("render not implemented")}</span>});<span class="cstat-no" title="statement not covered" >V</span>Canvas_canvas=createClass(VCanvas_base,{init:<span class="fstat-no" title="function not covered" >fu</span>nction(width,height,target,interact){<span class="cstat-no" title="statement not covered" >VCanvas_canvas._super.init.call(this,width,height,target);<span class="cstat-no" title="statement not covered" >t</span>his.canvas=document.createElement("canvas");<span class="cstat-no" title="statement not covered" >i</span>f(target[0]){<span class="cstat-no" title="statement not covered" >target=target[0]}<span class="cstat-no" title="statement not covered" ></span>$</span>.data(target,"_jqs_vcanvas",this);<span class="cstat-no" title="statement not covered" >$</span>(this.canvas).css({display:"inline-block",width:width,height:height,verticalAlign:"top"});<span class="cstat-no" title="statement not covered" >t</span>his._insert(this.canvas,target);<span class="cstat-no" title="statement not covered" >t</span>his._calculatePixelDims(width,height,this.canvas);<span class="cstat-no" title="statement not covered" >t</span>his.canvas.width=this.pixelWidth;<span class="cstat-no" title="statement not covered" >t</span>his.canvas.height=this.pixelHeight;<span class="cstat-no" title="statement not covered" >t</span>his.interact=interact;<span class="cstat-no" title="statement not covered" >t</span>his.shapes={};<span class="cstat-no" title="statement not covered" >t</span>his.shapeseq=[];<span class="cstat-no" title="statement not covered" >t</span>his.currentTargetShapeId=undefined;<span class="cstat-no" title="statement not covered" >$</span>(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})}</span>,_getContext:<span class="fstat-no" title="function not covered" >fu</span>nction(lineColor,fillColor,lineWidth){var context=<span class="cstat-no" title="statement not covered" >this.canvas.getContext("2d");<span class="cstat-no" title="statement not covered" ></span>if(lineColor!==undefined){<span class="cstat-no" title="statement not covered" >context.strokeStyle=lineColor}<span class="cstat-no" title="statement not covered" ></span>c</span>ontext.lineWidth=lineWidth===undefined?1:lineWidth;<span class="cstat-no" title="statement not covered" >i</span>f(fillColor!==undefined){<span class="cstat-no" title="statement not covered" >context.fillStyle=fillColor}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn context}</span>,reset:<span class="fstat-no" title="function not covered" >fu</span>nction(){var context=<span class="cstat-no" title="statement not covered" >this._getContext();<span class="cstat-no" title="statement not covered" ></span>context.clearRect(0,0,this.pixelWidth,this.pixelHeight);<span class="cstat-no" title="statement not covered" >t</span>his.shapes={};<span class="cstat-no" title="statement not covered" >t</span>his.shapeseq=[];<span class="cstat-no" title="statement not covered" >t</span>his.currentTargetShapeId=undefined}</span>,_drawShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,path,lineColor,fillColor,lineWidth){var context=<span class="cstat-no" title="statement not covered" >this._getContext(lineColor,fillColor,lineWidth),</span>i,plen;<span class="cstat-no" title="statement not covered" >context.beginPath();<span class="cstat-no" title="statement not covered" >c</span>ontext.moveTo(path[0][0]+.5,path[0][1]+.5);<span class="cstat-no" title="statement not covered" >f</span>or(i=1,plen=path.length;i&lt;plen;i++){<span class="cstat-no" title="statement not covered" >context.lineTo(path[i][0]+.5,path[i][1]+.5)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(lineColor!==undefined){<span class="cstat-no" title="statement not covered" >context.stroke()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(fillColor!==undefined){<span class="cstat-no" title="statement not covered" >context.fill()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.targetX!==undefined&amp;&amp;this.targetY!==undefined&amp;&amp;context.isPointInPath(this.targetX,this.targetY)){<span class="cstat-no" title="statement not covered" >this.currentTargetShapeId=shapeid}</span>}</span>,_drawCircle:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,x,y,radius,lineColor,fillColor,lineWidth){var context=<span class="cstat-no" title="statement not covered" >this._getContext(lineColor,fillColor,lineWidth);<span class="cstat-no" title="statement not covered" ></span>context.beginPath();<span class="cstat-no" title="statement not covered" >c</span>ontext.arc(x,y,radius,0,2*Math.PI,false);<span class="cstat-no" title="statement not covered" >i</span>f(this.targetX!==undefined&amp;&amp;this.targetY!==undefined&amp;&amp;context.isPointInPath(this.targetX,this.targetY)){<span class="cstat-no" title="statement not covered" >this.currentTargetShapeId=shapeid}<span class="cstat-no" title="statement not covered" ></span>i</span>f(lineColor!==undefined){<span class="cstat-no" title="statement not covered" >context.stroke()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(fillColor!==undefined){<span class="cstat-no" title="statement not covered" >context.fill()}</span>}</span>,_drawPieSlice:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,x,y,radius,startAngle,endAngle,lineColor,fillColor){var context=<span class="cstat-no" title="statement not covered" >this._getContext(lineColor,fillColor);<span class="cstat-no" title="statement not covered" ></span>context.beginPath();<span class="cstat-no" title="statement not covered" >c</span>ontext.moveTo(x,y);<span class="cstat-no" title="statement not covered" >c</span>ontext.arc(x,y,radius,startAngle,endAngle,false);<span class="cstat-no" title="statement not covered" >c</span>ontext.lineTo(x,y);<span class="cstat-no" title="statement not covered" >c</span>ontext.closePath();<span class="cstat-no" title="statement not covered" >i</span>f(lineColor!==undefined){<span class="cstat-no" title="statement not covered" >context.stroke()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(fillColor){<span class="cstat-no" title="statement not covered" >context.fill()}<span class="cstat-no" title="statement not covered" ></span>i</span>f(this.targetX!==undefined&amp;&amp;this.targetY!==undefined&amp;&amp;context.isPointInPath(this.targetX,this.targetY)){<span class="cstat-no" title="statement not covered" >this.currentTargetShapeId=shapeid}</span>}</span>,_drawRect:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,x,y,width,height,lineColor,fillColor){<span class="cstat-no" title="statement not covered" >return this._drawShape(shapeid,[[x,y],[x+width,y],[x+width,y+height],[x,y+height],[x,y]],lineColor,fillColor)}</span>,appendShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shape){<span class="cstat-no" title="statement not covered" >this.shapes[shape.id]=shape;<span class="cstat-no" title="statement not covered" >t</span>his.shapeseq.push(shape.id);<span class="cstat-no" title="statement not covered" >t</span>his.lastShapeId=shape.id;<span class="cstat-no" title="statement not covered" >r</span>eturn shape.id}</span>,replaceWithShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,shape){var shapeseq=<span class="cstat-no" title="statement not covered" >this.shapeseq,</span>i;<span class="cstat-no" title="statement not covered" >this.shapes[shape.id]=shape;<span class="cstat-no" title="statement not covered" >f</span>or(i=shapeseq.length;i--;){<span class="cstat-no" title="statement not covered" >if(shapeseq[i]==shapeid){<span class="cstat-no" title="statement not covered" >shapeseq[i]=shape.id}</span>}<span class="cstat-no" title="statement not covered" ></span>d</span>elete this.shapes[shapeid]}</span>,replaceWithShapes:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeids,shapes){var shapeseq=<span class="cstat-no" title="statement not covered" >this.shapeseq,</span>shapemap=<span class="cstat-no" title="statement not covered" >{},</span>sid,i,first;<span class="cstat-no" title="statement not covered" >for(i=shapeids.length;i--;){<span class="cstat-no" title="statement not covered" >shapemap[shapeids[i]]=true}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=shapeseq.length;i--;){<span class="cstat-no" title="statement not covered" >sid=shapeseq[i];<span class="cstat-no" title="statement not covered" >i</span>f(shapemap[sid]){<span class="cstat-no" title="statement not covered" >shapeseq.splice(i,1);<span class="cstat-no" title="statement not covered" >d</span>elete this.shapes[sid];<span class="cstat-no" title="statement not covered" >f</span>irst=i}</span>}<span class="cstat-no" title="statement not covered" ></span>f</span>or(i=shapes.length;i--;){<span class="cstat-no" title="statement not covered" >shapeseq.splice(first,0,shapes[i].id);<span class="cstat-no" title="statement not covered" >t</span>his.shapes[shapes[i].id]=shapes[i]}</span>}</span>,insertAfterShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,shape){var shapeseq=<span class="cstat-no" title="statement not covered" >this.shapeseq,</span>i;<span class="cstat-no" title="statement not covered" >for(i=shapeseq.length;i--;){<span class="cstat-no" title="statement not covered" >if(shapeseq[i]===shapeid){<span class="cstat-no" title="statement not covered" >shapeseq.splice(i+1,0,shape.id);<span class="cstat-no" title="statement not covered" >t</span>his.shapes[shape.id]=shape;<span class="cstat-no" title="statement not covered" >r</span>eturn}</span>}</span>}</span>,removeShapeId:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid){var shapeseq=<span class="cstat-no" title="statement not covered" >this.shapeseq,</span>i;<span class="cstat-no" title="statement not covered" >for(i=shapeseq.length;i--;){<span class="cstat-no" title="statement not covered" >if(shapeseq[i]===shapeid){<span class="cstat-no" title="statement not covered" >shapeseq.splice(i,1);<span class="cstat-no" title="statement not covered" >b</span>reak}</span>}<span class="cstat-no" title="statement not covered" ></span>d</span>elete this.shapes[shapeid]}</span>,getShapeAt:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){<span class="cstat-no" title="statement not covered" >this.targetX=x;<span class="cstat-no" title="statement not covered" >t</span>his.targetY=y;<span class="cstat-no" title="statement not covered" >t</span>his.render();<span class="cstat-no" title="statement not covered" >r</span>eturn this.currentTargetShapeId}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){var shapeseq=<span class="cstat-no" title="statement not covered" >this.shapeseq,</span>shapes=<span class="cstat-no" title="statement not covered" >this.shapes,</span>shapeCount=<span class="cstat-no" title="statement not covered" >shapeseq.length,</span>context=<span class="cstat-no" title="statement not covered" >this._getContext(),</span>shapeid,shape,i;<span class="cstat-no" title="statement not covered" >context.clearRect(0,0,this.pixelWidth,this.pixelHeight);<span class="cstat-no" title="statement not covered" >f</span>or(i=0;i&lt;shapeCount;i++){<span class="cstat-no" title="statement not covered" >shapeid=shapeseq[i];<span class="cstat-no" title="statement not covered" >s</span>hape=shapes[shapeid];<span class="cstat-no" title="statement not covered" >t</span>his["_draw"+shape.type].apply(this,shape.args)}<span class="cstat-no" title="statement not covered" ></span>i</span>f(!this.interact){<span class="cstat-no" title="statement not covered" >this.shapes={};<span class="cstat-no" title="statement not covered" >t</span>his.shapeseq=[]}</span>}</span>});<span class="cstat-no" title="statement not covered" >V</span>Canvas_vml=createClass(VCanvas_base,{init:<span class="fstat-no" title="function not covered" >fu</span>nction(width,height,target){var groupel;<span class="cstat-no" title="statement not covered" >VCanvas_vml._super.init.call(this,width,height,target);<span class="cstat-no" title="statement not covered" >i</span>f(target[0]){<span class="cstat-no" title="statement not covered" >target=target[0]}<span class="cstat-no" title="statement not covered" ></span>$</span>.data(target,"_jqs_vcanvas",this);<span class="cstat-no" title="statement not covered" >t</span>his.canvas=document.createElement("span");<span class="cstat-no" title="statement not covered" >$</span>(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:width,height:height,margin:"0px",padding:"0px",verticalAlign:"top"});<span class="cstat-no" title="statement not covered" >t</span>his._insert(this.canvas,target);<span class="cstat-no" title="statement not covered" >t</span>his._calculatePixelDims(width,height,this.canvas);<span class="cstat-no" title="statement not covered" >t</span>his.canvas.width=this.pixelWidth;<span class="cstat-no" title="statement not covered" >t</span>his.canvas.height=this.pixelHeight;<span class="cstat-no" title="statement not covered" >g</span>roupel='&lt;v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"'+' style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"&gt;&lt;/v:group&gt;';<span class="cstat-no" title="statement not covered" >t</span>his.canvas.insertAdjacentHTML("beforeEnd",groupel);<span class="cstat-no" title="statement not covered" >t</span>his.group=$(this.canvas).children()[0];<span class="cstat-no" title="statement not covered" >t</span>his.rendered=false;<span class="cstat-no" title="statement not covered" >t</span>his.prerender=""}</span>,_drawShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,path,lineColor,fillColor,lineWidth){var vpath=<span class="cstat-no" title="statement not covered" >[],</span>initial,stroke,fill,closed,vel,plen,i;<span class="cstat-no" title="statement not covered" >for(i=0,plen=path.length;i&lt;plen;i++){<span class="cstat-no" title="statement not covered" >vpath[i]=""+path[i][0]+","+path[i][1]}<span class="cstat-no" title="statement not covered" ></span>i</span>nitial=vpath.splice(0,1);<span class="cstat-no" title="statement not covered" >l</span>ineWidth=lineWidth===undefined?1:lineWidth;<span class="cstat-no" title="statement not covered" >s</span>troke=lineColor===undefined?' stroked="false" ':' strokeWeight="'+lineWidth+'px" strokeColor="'+lineColor+'" ';<span class="cstat-no" title="statement not covered" >f</span>ill=fillColor===undefined?' filled="false"':' fillColor="'+fillColor+'" filled="true" ';<span class="cstat-no" title="statement not covered" >c</span>losed=vpath[0]===vpath[vpath.length-1]?"x ":"";<span class="cstat-no" title="statement not covered" >v</span>el='&lt;v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+shapeid+'" '+stroke+fill+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+initial+" l "+vpath.join(", ")+" "+closed+'e"&gt;'+" &lt;/v:shape&gt;";<span class="cstat-no" title="statement not covered" >r</span>eturn vel}</span>,_drawCircle:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,x,y,radius,lineColor,fillColor,lineWidth){var stroke,fill,vel;<span class="cstat-no" title="statement not covered" >x-=radius;<span class="cstat-no" title="statement not covered" >y</span>-=radius;<span class="cstat-no" title="statement not covered" >s</span>troke=lineColor===undefined?' stroked="false" ':' strokeWeight="'+lineWidth+'px" strokeColor="'+lineColor+'" ';<span class="cstat-no" title="statement not covered" >f</span>ill=fillColor===undefined?' filled="false"':' fillColor="'+fillColor+'" filled="true" ';<span class="cstat-no" title="statement not covered" >v</span>el="&lt;v:oval "+' id="jqsshape'+shapeid+'" '+stroke+fill+' style="position:absolute;top:'+y+"px; left:"+x+"px; width:"+radius*2+"px; height:"+radius*2+'px"&gt;&lt;/v:oval&gt;';<span class="cstat-no" title="statement not covered" >r</span>eturn vel}</span>,_drawPieSlice:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,x,y,radius,startAngle,endAngle,lineColor,fillColor){var vpath,startx,starty,endx,endy,stroke,fill,vel;<span class="cstat-no" title="statement not covered" >if(startAngle===endAngle){<span class="cstat-no" title="statement not covered" >return""}<span class="cstat-no" title="statement not covered" ></span>i</span>f(endAngle-startAngle===2*Math.PI){<span class="cstat-no" title="statement not covered" >startAngle=0;<span class="cstat-no" title="statement not covered" >e</span>ndAngle=2*Math.PI}<span class="cstat-no" title="statement not covered" ></span>s</span>tartx=x+Math.round(Math.cos(startAngle)*radius);<span class="cstat-no" title="statement not covered" >s</span>tarty=y+Math.round(Math.sin(startAngle)*radius);<span class="cstat-no" title="statement not covered" >e</span>ndx=x+Math.round(Math.cos(endAngle)*radius);<span class="cstat-no" title="statement not covered" >e</span>ndy=y+Math.round(Math.sin(endAngle)*radius);<span class="cstat-no" title="statement not covered" >i</span>f(startx===endx&amp;&amp;starty===endy){<span class="cstat-no" title="statement not covered" >if(endAngle-startAngle&lt;Math.PI){<span class="cstat-no" title="statement not covered" >return""}<span class="cstat-no" title="statement not covered" ></span>s</span>tartx=endx=x+radius;<span class="cstat-no" title="statement not covered" >s</span>tarty=endy=y}<span class="cstat-no" title="statement not covered" ></span>i</span>f(startx===endx&amp;&amp;starty===endy&amp;&amp;endAngle-startAngle&lt;Math.PI){<span class="cstat-no" title="statement not covered" >return""}<span class="cstat-no" title="statement not covered" ></span>v</span>path=[x-radius,y-radius,x+radius,y+radius,startx,starty,endx,endy];<span class="cstat-no" title="statement not covered" >s</span>troke=lineColor===undefined?' stroked="false" ':' strokeWeight="1px" strokeColor="'+lineColor+'" ';<span class="cstat-no" title="statement not covered" >f</span>ill=fillColor===undefined?' filled="false"':' fillColor="'+fillColor+'" filled="true" ';<span class="cstat-no" title="statement not covered" >v</span>el='&lt;v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+shapeid+'" '+stroke+fill+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+x+","+y+" wa "+vpath.join(", ")+' x e"&gt;'+" &lt;/v:shape&gt;";<span class="cstat-no" title="statement not covered" >r</span>eturn vel}</span>,_drawRect:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,x,y,width,height,lineColor,fillColor){<span class="cstat-no" title="statement not covered" >return this._drawShape(shapeid,[[x,y],[x,y+height],[x+width,y+height],[x+width,y],[x,y]],lineColor,fillColor)}</span>,reset:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >this.group.innerHTML=""}</span>,appendShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shape){var vel=<span class="cstat-no" title="statement not covered" >this["_draw"+shape.type].apply(this,shape.args);<span class="cstat-no" title="statement not covered" ></span>if(this.rendered){<span class="cstat-no" title="statement not covered" >this.group.insertAdjacentHTML("beforeEnd",vel)}</span>else{<span class="cstat-no" title="statement not covered" >this.prerender+=vel}<span class="cstat-no" title="statement not covered" ></span>t</span>his.lastShapeId=shape.id;<span class="cstat-no" title="statement not covered" >r</span>eturn shape.id}</span>,replaceWithShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,shape){var existing=<span class="cstat-no" title="statement not covered" >$("#jqsshape"+shapeid),</span>vel=<span class="cstat-no" title="statement not covered" >this["_draw"+shape.type].apply(this,shape.args);<span class="cstat-no" title="statement not covered" ></span>existing[0].outerHTML=vel}</span>,replaceWithShapes:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeids,shapes){var existing=<span class="cstat-no" title="statement not covered" >$("#jqsshape"+shapeids[0]),</span>replace=<span class="cstat-no" title="statement not covered" >"",</span>slen=<span class="cstat-no" title="statement not covered" >shapes.length,</span>i;<span class="cstat-no" title="statement not covered" >for(i=0;i&lt;slen;i++){<span class="cstat-no" title="statement not covered" >replace+=this["_draw"+shapes[i].type].apply(this,shapes[i].args)}<span class="cstat-no" title="statement not covered" ></span>e</span>xisting[0].outerHTML=replace;<span class="cstat-no" title="statement not covered" >f</span>or(i=1;i&lt;shapeids.length;i++){<span class="cstat-no" title="statement not covered" >$("#jqsshape"+shapeids[i]).remove()}</span>}</span>,insertAfterShape:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid,shape){var existing=<span class="cstat-no" title="statement not covered" >$("#jqsshape"+shapeid),</span>vel=<span class="cstat-no" title="statement not covered" >this["_draw"+shape.type].apply(this,shape.args);<span class="cstat-no" title="statement not covered" ></span>existing[0].insertAdjacentHTML("afterEnd",vel)}</span>,removeShapeId:<span class="fstat-no" title="function not covered" >fu</span>nction(shapeid){var existing=<span class="cstat-no" title="statement not covered" >$("#jqsshape"+shapeid);<span class="cstat-no" title="statement not covered" ></span>this.group.removeChild(existing[0])}</span>,getShapeAt:<span class="fstat-no" title="function not covered" >fu</span>nction(el,x,y){var shapeid=<span class="cstat-no" title="statement not covered" >el.id.substr(8);<span class="cstat-no" title="statement not covered" ></span>return shapeid}</span>,render:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >if(!this.rendered){<span class="cstat-no" title="statement not covered" >this.group.innerHTML=this.prerender;<span class="cstat-no" title="statement not covered" >t</span>his.rendered=true}</span>}</span>})}</span>)})(document,Math);
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-01-20T09:55:08.196Z
            </div>
        <script src="../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../sorter.js"></script>
        <script src="../../../../block-navigation.js"></script>
    </body>
</html>
    